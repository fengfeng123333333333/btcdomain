"use strict";(self["webpackChunknew_btcdomain_vue3"]=self["webpackChunknew_btcdomain_vue3"]||[]).push([[884],{61911:function(e,t,s){s.r(t),s.d(t,{default:function(){return zi}});var a=s(98473),i=s(24887),n=s(26601);const l=e=>((0,a.dD)("data-v-1e398d84"),e=e(),(0,a.Cn)(),e),o={class:"mobile_person_app"},c=l((()=>(0,a._)("div",{class:"mobile_person_head"},null,-1))),r={class:"person_body_left"},d={class:"set_avater"},_=["src"],u={key:1,src:"https://app.btcdomains.io/images/assets/avater_def@2x.png",alt:"",class:"avaterImg"},m={key:2,src:n,alt:"",class:"ogImg"},p={key:0,class:"set_domain"},h={class:"set_options"},g=["onClick"],y=["src"],v=["src"],w=["src"],b={class:"person_body_right"};function k(e,t,s,n,l,k){const D=(0,a.up)("MobileHead"),f=(0,a.up)("MobileInscription"),S=(0,a.up)("MobileWallet"),F=(0,a.up)("MobileSetting"),x=(0,a.up)("MobileFoot");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(D),c,(0,a._)("div",{class:"mobile_person_body",style:(0,i.j5)({minHeight:l.clientHeight+"px"})},[(0,a._)("div",r,[(0,a._)("div",d,[l.personData.content_url&&l.personData.content_url.length>3?((0,a.wg)(),(0,a.iD)("img",{key:0,src:l.personData.content_url,alt:"",class:"avaterImg"},null,8,_)):((0,a.wg)(),(0,a.iD)("img",u)),l.ogShow?((0,a.wg)(),(0,a.iD)("img",m)):(0,a.kq)("",!0)]),l.personData?((0,a.wg)(),(0,a.iD)("div",p,(0,i.zw)(l.personData.domain),1)):(0,a.kq)("",!0),(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.optionsList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"set_options_item",key:t,onClick:t=>k.changeOptionFun(e)},[e.isSelect&&"custom"!=l.loginType?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.selUrl,alt:""},null,8,y)):e.isSelect||"custom"==l.loginType?"custom"===l.loginType?((0,a.wg)(),(0,a.iD)("img",{key:2,src:e.cusUrl,alt:""},null,8,w)):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("img",{key:1,src:e.norUrl,alt:""},null,8,v)),(0,a._)("span",{class:(0,i.C_)({set_options_item_select:e.isSelect,set_options_item_cus:"custom"===l.loginType&&"Inscription"!=e.name})},(0,i.zw)(e.name),3)],8,g)))),128))])]),(0,a._)("div",b,["Inscription"===l.type?((0,a.wg)(),(0,a.j4)(f,{key:0})):(0,a.kq)("",!0),"Wallet"===l.type?((0,a.wg)(),(0,a.j4)(S,{key:1})):(0,a.kq)("",!0),"Setting"===l.type?((0,a.wg)(),(0,a.j4)(F,{key:2})):(0,a.kq)("",!0)])],4),(0,a.Wm)(x)])}var D=s(42371),f=s(45480),S=s(29197),F=s(62156),x=s(94741),C=s(28489),T=s(68745),I=s(96850),B=s(92599),A=s(80360),Z=s(63428),L=s(31146),j=s(81923),M=s(88070),P=s(31977),q=s(25571),z=s(82198);const E=e=>((0,a.dD)("data-v-26dc914b"),e=e(),(0,a.Cn)(),e),V={class:"inscription_app"},H={class:"inscription_tab"},R={class:"inscription_tab_box"},K={class:"inscription_search_box"},U={class:"inscription_search_input"},N={class:"inscription_showtype"},G={key:0,class:"inscription_tab_list"},Y={class:"inscription_tab_item_head"},W={class:"inscription_tab_item_head_left"},$={key:0},O=["src"],X={key:1,src:T,alt:""},Q={key:1},J=["src"],ee={key:1,src:T,alt:""},te={key:2},se={key:0,src:I,alt:""},ae={key:1,src:B,alt:""},ie={key:2,src:A,alt:""},ne={key:3,src:Z,alt:""},le={class:"inscription_tab_item_head_com"},oe={class:"inscription_tab_item_head_com_item"},ce=E((()=>(0,a._)("div",{class:"inscription_tab_item_head_com_item"},"Hash ID",-1))),re={class:"inscription_tab_item_head_com"},de={class:"inscription_tab_item_head_com_item"},_e=["onClick"],ue={key:1,class:"tab_item_left_dec_type"},me=["onClick"],pe={class:"inscription_tab_item_box"},he={class:"inscription_tab_item_box_item"},ge=E((()=>(0,a._)("span",null,"Expiration Date",-1))),ye={class:"inscription_tab_item_option"},ve=["onClick"],we=E((()=>(0,a._)("img",{src:L,alt:""},null,-1))),be=E((()=>(0,a._)("span",null,"Send",-1))),ke=[we,be],De=["onClick"],fe={key:1,class:"inscription_tab_list_card"},Se={key:0,class:"inscription_tab_item_card_head"},Fe=["src"],xe={key:1,src:T,alt:""},Ce={key:1,class:"inscription_tab_item_card_head"},Te=["src"],Ie={key:1,src:T,alt:""},Be={key:2,class:"inscription_tab_item_card_head"},Ae={key:0,src:I,alt:""},Ze={key:1,src:B,alt:""},Le={key:2,src:A,alt:""},je={key:3,src:Z,alt:""},Me={class:"inscription_tab_item_card_middle"},Pe={class:"inscription_tab_item_head_com",style:{"margin-left":"0"}},qe={class:"inscription_tab_item_head_com_item"},ze=E((()=>(0,a._)("div",{class:"inscription_tab_item_head_com_item"},"Hash ID",-1))),Ee={class:"inscription_tab_item_head_com",style:{"margin-left":"0"}},Ve={class:"inscription_tab_item_head_com_item"},He=["onClick"],Re={key:1,class:"tab_item_left_dec_type"},Ke=["onClick"],Ue={class:"inscription_tab_item_box"},Ne={class:"inscription_tab_item_box_item"},Ge=E((()=>(0,a._)("span",null,"Expiration Date",-1))),Ye={class:"inscription_tab_item_option"},We=["onClick"],$e=E((()=>(0,a._)("img",{src:L,alt:""},null,-1))),Oe=E((()=>(0,a._)("span",null,"Send",-1))),Xe=[$e,Oe],Qe=["onClick"],Je={key:0,class:"mask"},et={class:"send_btc"},tt={class:"displayCom maskheadcom"},st={class:"send_inscript_box"},at=E((()=>(0,a._)("div",{class:"send_btc_title"},"To",-1))),it=E((()=>(0,a._)("div",{class:"send_inscript_dec"},"Select the network fee you want to pay:",-1))),nt=E((()=>(0,a._)("div",{class:"cart_right_gas"},[(0,a._)("img",{src:M,alt:""}),(0,a._)("span",null,"Gas rate")],-1))),lt={class:"gas_tab"},ot=["onClick"],ct={class:"gas_tab_item_value"},rt={class:"gas_input"},dt=E((()=>(0,a._)("span",{class:"input_number_year_position"},"sats/vB",-1))),_t={key:2,style:{color:"red"}},ut={key:3},mt={key:0,class:"mobile_button_loading",style:{"margin-right":"0.1rem"},color:"#1989fa"},pt=E((()=>(0,a._)("span",null,"Confirm",-1))),ht={key:1,class:"mask"},gt={class:"inscript_box",style:{"margin-top":"0.8rem"}},yt={class:"displayCom maskheadcom"},vt=E((()=>(0,a._)("span",null,"Inscribe State",-1))),wt={class:"inscript_body"},bt=E((()=>(0,a._)("div",{class:"inscript_step"},[(0,a._)("img",{src:P,class:"inscript_step_img",alt:""}),(0,a._)("div",{class:"inscript_step_info"},[(0,a._)("span",null,"Locked The Dominate"),(0,a._)("span",{class:"inscript_step_info_dec"},"This domain name has been locked. Don't worry about being preempted.")])],-1))),kt={class:"inscript_step"},Dt={key:0,src:q,class:"inscript_step_img demo",alt:""},ft={key:1,src:P,class:"inscript_step_img",alt:""},St={key:2,src:P,class:"inscript_step_img",alt:""},Ft=E((()=>(0,a._)("div",{class:"inscript_step_info"},[(0,a._)("div",null,[(0,a._)("span",null,"Fund Transfer Pending")]),(0,a._)("span",{class:"inscript_step_info_dec"},"Confirm the remaining 2 blocks.")],-1))),xt={class:"inscript_step"},Ct={key:0,src:z,class:"inscript_step_img",alt:""},Tt={key:1,src:q,class:"inscript_step_img demo",alt:""},It={key:2,src:P,class:"inscript_step_img",alt:""},Bt={key:3,src:P,class:"inscript_step_img",alt:""},At=E((()=>(0,a._)("div",{class:"inscript_step_info"},[(0,a._)("span",null,"Inscribing"),(0,a._)("div",{class:"inscript_step_info_bing"},[(0,a._)("span",{class:"inscript_step_info_dec"},"Confirm the remaining 2 blocks.")])],-1))),Zt={class:"inscript_step"},Lt={key:0,src:z,class:"inscript_step_img",alt:""},jt={key:1,src:z,class:"inscript_step_img",alt:""},Mt={key:2,src:q,class:"inscript_step_img demo",alt:""},Pt={key:3,src:P,class:"inscript_step_img",alt:""},qt={key:4,src:P,class:"inscript_step_img",alt:""},zt=E((()=>(0,a._)("div",{class:"inscript_step_info"},[(0,a._)("span",null,"Inscription Transfer Pending "),(0,a._)("span",{class:"inscript_step_info_dec"},"Confirm the remaining 2 blocks.")],-1))),Et=E((()=>(0,a._)("div",{class:"inscript_body_dec"},"The domain name transfer may take some time.",-1))),Vt={class:"inscript_step_info_right"},Ht={class:"inscript_step_info_right_item"},Rt=E((()=>(0,a._)("span",null,"Network rate:",-1))),Kt={style:{"margin-left":"0.16rem"}},Ut={class:"inscript_step_info_right_item"},Nt=E((()=>(0,a._)("span",null,"Your rate:",-1))),Gt={style:{"margin-left":"0.16rem"}};function Yt(e,t,s,n,l,o){const c=(0,a.up)("van-tab"),r=(0,a.up)("van-tabs"),d=(0,a.up)("van-stepper"),_=(0,a.up)("van-loading"),u=(0,a.up)("Spin");return(0,a.wg)(),(0,a.iD)("div",V,[(0,a._)("div",H,[(0,a.Wm)(r,{onClickTab:o.changeAddressTypefun,active:l.type,"onUpdate:active":t[12]||(t[12]=e=>l.type=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tabList,((e,s)=>((0,a.wg)(),(0,a.j4)(c,{title:e.name,name:e.type,key:s},{default:(0,a.w5)((()=>[(0,a._)("div",R,[(0,a._)("div",K,[(0,a._)("div",U,["Domains"===l.type?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:0,type:"text",onInput:t[0]||(t[0]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>l.searchText=e),onKeyup:t[2]||(t[2]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),placeholder:"Search domain name or inscription...",class:"search_insription"},null,544)),[[S.nr,l.searchText]]):"Image"===l.type?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:1,type:"text",onInput:t[3]||(t[3]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>l.searchText=e),onKeyup:t[5]||(t[5]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),placeholder:"Search  inscription number",class:"search_insription"},null,544)),[[S.nr,l.searchText]]):"Other"===l.type?(0,a.wy)(((0,a.wg)(),(0,a.iD)("input",{key:2,type:"text",onInput:t[6]||(t[6]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[7]||(t[7]=e=>l.searchText=e),onKeyup:t[8]||(t[8]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),placeholder:"Search  inscription number",class:"search_insription"},null,544)),[[S.nr,l.searchText]]):(0,a.kq)("",!0),(0,a._)("img",{src:F,alt:"",onClick:t[9]||(t[9]=(...e)=>o.searchFun&&o.searchFun(...e))})]),(0,a._)("div",N,[(0,a._)("img",{src:x,alt:"",onClick:t[10]||(t[10]=e=>o.changeShowFun(1))}),(0,a._)("img",{src:C,alt:"",onClick:t[11]||(t[11]=e=>o.changeShowFun(2)),style:{"margin-left":"0.2rem"}})])]),2===l.listShowType?((0,a.wg)(),(0,a.iD)("div",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.showInscrptList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"inscription_tab_item",key:t},[(0,a._)("div",Y,[(0,a._)("div",W,["Domains"===l.type?((0,a.wg)(),(0,a.iD)("div",$,[e.domain_img.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.domain_img,alt:""},null,8,O)):((0,a.wg)(),(0,a.iD)("img",X))])):"Image"===l.type?((0,a.wg)(),(0,a.iD)("div",Q,[e.detail.content.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.detail.content,alt:""},null,8,J)):((0,a.wg)(),(0,a.iD)("img",ee))])):"Other"===l.type?((0,a.wg)(),(0,a.iD)("div",te,["HTML"===e.type?((0,a.wg)(),(0,a.iD)("img",se)):(0,a.kq)("",!0),"TEXT"===e.type?((0,a.wg)(),(0,a.iD)("img",ae)):(0,a.kq)("",!0),"AUDIO"===e.type?((0,a.wg)(),(0,a.iD)("img",ie)):(0,a.kq)("",!0),"VIDEO"===e.type?((0,a.wg)(),(0,a.iD)("img",ne)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a._)("div",le,[(0,a._)("div",oe,(0,i.zw)(e.domain),1),ce])]),(0,a._)("div",re,[(0,a._)("div",de,[e.number&&e.number>0?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"tab_item_left_dec_type",style:{"text-decoration":"underline",cursor:"pointer"},onClick:t=>o.toINSFun(e.id)},"INS #"+(0,i.zw)(e.number),9,_e)):((0,a.wg)(),(0,a.iD)("span",ue,"INS -"))]),(0,a._)("div",{class:"inscription_tab_item_head_com_item",onClick:t=>o.toinscriptionFun(e)},(0,i.zw)(e.id_show),9,me)])]),(0,a._)("div",pe,[(0,a._)("div",he,[ge,(0,a._)("span",null,(0,i.zw)(e.expire_date_show),1)])]),(0,a._)("div",ye,[(0,a._)("div",{class:(0,i.C_)(["tab_item_right_option",{tab_item_right_option_ing:"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state||l.unisatPriver||"custom"===l.loginType}]),onClick:t=>o.sendFun(e)},ke,10,ve),"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"tab_item_right_status",style:{color:"#EEA119",background:"rgba(238,161,25,0.1)",cursor:"pointer"},onClick:t=>o.openStatusFun(e)},"Registering... ",8,De)):(0,a.kq)("",!0)])])))),128))])):(0,a.kq)("",!0),1===l.listShowType?((0,a.wg)(),(0,a.iD)("div",fe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.showInscrptList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"inscription_tab_item_card",key:t},["Domains"===l.type?((0,a.wg)(),(0,a.iD)("div",Se,[e.domain_img.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.domain_img,alt:""},null,8,Fe)):((0,a.wg)(),(0,a.iD)("img",xe))])):"Image"===l.type?((0,a.wg)(),(0,a.iD)("div",Ce,[e.detail.content.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.detail.content,alt:""},null,8,Te)):((0,a.wg)(),(0,a.iD)("img",Ie))])):"Other"===l.type?((0,a.wg)(),(0,a.iD)("div",Be,["HTML"===e.type?((0,a.wg)(),(0,a.iD)("img",Ae)):(0,a.kq)("",!0),"TEXT"===e.type?((0,a.wg)(),(0,a.iD)("img",Ze)):(0,a.kq)("",!0),"AUDIO"===e.type?((0,a.wg)(),(0,a.iD)("img",Le)):(0,a.kq)("",!0),"VIDEO"===e.type?((0,a.wg)(),(0,a.iD)("img",je)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a._)("div",Me,[(0,a._)("div",Pe,[(0,a._)("div",qe,(0,i.zw)(e.domain),1),ze]),(0,a._)("div",Ee,[(0,a._)("div",Ve,[e.number&&e.number>0?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"tab_item_left_dec_type",style:{"text-decoration":"underline",cursor:"pointer"},onClick:t=>o.toINSFun(e.id)},"INS #"+(0,i.zw)(e.number),9,He)):((0,a.wg)(),(0,a.iD)("span",Re,"INS -"))]),(0,a._)("div",{class:"inscription_tab_item_head_com_item",onClick:t=>o.toinscriptionFun(e)},(0,i.zw)(e.id_show),9,Ke)])]),(0,a._)("div",Ue,[(0,a._)("div",Ne,[Ge,(0,a._)("span",null,(0,i.zw)(e.expire_date_show),1)])]),(0,a._)("div",Ye,[(0,a._)("div",{class:(0,i.C_)(["tab_item_right_option",{tab_item_right_option_ing:"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state||l.unisatPriver||"custom"===l.loginType}]),onClick:t=>o.sendFun(e)},Xe,10,We),"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"tab_item_right_status",style:{color:"#EEA119",background:"rgba(238,161,25,0.1)",cursor:"pointer"},onClick:t=>o.openStatusFun(e)},"Registering... ",8,Qe)):(0,a.kq)("",!0)])])))),128))])):(0,a.kq)("",!0)])])),_:2},1032,["title","name"])))),128))])),_:1},8,["onClickTab","active"])]),l.send_inscript_boolean?((0,a.wg)(),(0,a.iD)("div",Je,[(0,a._)("div",et,[(0,a._)("div",tt,[(0,a._)("span",null,"Send #"+(0,i.zw)(l.selectItem.number),1),(0,a._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[13]||(t[13]=e=>o.choseMaskFun(1))})]),(0,a._)("div",st,[at,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.sendBtcaddress=e),onInput:t[15]||(t[15]=(...e)=>o.jiexiFun&&o.jiexiFun(...e)),type:"text",class:"set_input",placeholder:"Bitcoin address or .btc domain name"},null,544),[[S.nr,l.sendBtcaddress]]),(0,a._)("div",{class:(0,i.C_)({jiexiError:!l.jiexiType})},(0,i.zw)(o.showAddressFun(l.jiexiAddress)),3),it,nt,(0,a._)("div",lt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.gasList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["gas_tab_item",{gas_tab_item_sel:e.isSelect}]),onClick:t=>o.changeGasFun(e),key:t},[(0,a._)("span",null,(0,i.zw)(e.name),1),(0,a._)("span",ct,(0,i.zw)(e.value)+" sats/vB",1)],10,ot)))),128))]),(0,a._)("div",rt,[dt,"Custom"!=l.gasSelectData.name?((0,a.wg)(),(0,a.j4)(d,{key:0,integer:"",min:0,modelValue:l.gasSelectData.value,"onUpdate:modelValue":t[16]||(t[16]=e=>l.gasSelectData.value=e),disabled:"","input-width":"5rem","button-size":"0.48rem"},null,8,["modelValue"])):((0,a.wg)(),(0,a.j4)(d,{key:1,integer:"",onChange:o.changeGasInputFun,min:0,modelValue:l.gasSelectData.customValue,"onUpdate:modelValue":t[17]||(t[17]=e=>l.gasSelectData.customValue=e),"input-width":"5rem","button-size":"0.48rem"},null,8,["onChange","modelValue"])),"Custom"===l.gasSelectData.name&&l.gasSelectData.customValue<l.gasSelectData.economyFee?((0,a.wg)(),(0,a.iD)("div",_t,"Minimun Fee："+(0,i.zw)(l.gasSelectData.economyFee)+"sats/vB",1)):"Custom"===l.gasSelectData.name&&l.gasSelectData.customValue<l.gasSelectData.avg?((0,a.wg)(),(0,a.iD)("div",ut,"This fee is below the average, which may lead to a long wait time for inscription.")):(0,a.kq)("",!0)]),(0,a._)("div",{class:"inscript_button",onClick:t[18]||(t[18]=(...e)=>o.confirmFun&&o.confirmFun(...e))},[l.loadingBoolean?((0,a.wg)(),(0,a.iD)("div",mt,[(0,a.Wm)(_,{type:"spinner",color:"#1989fa",class:"vant_loading"})])):(0,a.kq)("",!0),pt])])])])):(0,a.kq)("",!0),l.inscritpBoolean?((0,a.wg)(),(0,a.iD)("div",ht,[(0,a._)("div",gt,[(0,a._)("div",yt,[vt,(0,a._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[19]||(t[19]=e=>o.choseMaskFun(2))})]),(0,a._)("div",wt,[bt,(0,a._)("div",kt,[1===l.full_state?((0,a.wg)(),(0,a.iD)("img",Dt)):l.full_state>1&&9!=l.full_state?((0,a.wg)(),(0,a.iD)("img",ft)):0===l.full_state?((0,a.wg)(),(0,a.iD)("img",St)):(0,a.kq)("",!0),Ft]),(0,a._)("div",xt,[1===l.full_state?((0,a.wg)(),(0,a.iD)("img",Ct)):2===l.full_state?((0,a.wg)(),(0,a.iD)("img",Tt)):l.full_state>2&&9!=l.full_state?((0,a.wg)(),(0,a.iD)("img",It)):0===l.full_state?((0,a.wg)(),(0,a.iD)("img",Bt)):(0,a.kq)("",!0),At]),(0,a._)("div",Zt,[1===l.full_state?((0,a.wg)(),(0,a.iD)("img",Lt)):2===l.full_state?((0,a.wg)(),(0,a.iD)("img",jt)):3===l.full_state?((0,a.wg)(),(0,a.iD)("img",Mt)):l.full_state>3&&9!=l.full_state?((0,a.wg)(),(0,a.iD)("img",Pt)):0===l.full_state?((0,a.wg)(),(0,a.iD)("img",qt)):(0,a.kq)("",!0),zt]),Et,(0,a._)("div",Vt,[(0,a._)("div",Ht,[Rt,(0,a._)("span",Kt,(0,i.zw)(l.networkRate)+" sats/vB",1)]),(0,a._)("div",Ut,[Nt,(0,a._)("span",Gt,(0,i.zw)(l.yourRate)+" sats/vB",1)])]),(0,a._)("div",{class:"inscript_button1",onClick:t[20]||(t[20]=e=>o.choseMaskFun(2))},"OK")])])])):(0,a.kq)("",!0),(0,a.Wm)(u,{size:"large",fix:"",show:l.spanBoolean},null,8,["show"])])}var Wt=s(91818),$t=s(47013),Ot=s(99901),Xt=s(14217),Qt=s(13870),Jt=s(51037),es=s(12816),ts=(s(57658),s(77162)),ss=s(40657),as=s(21407),is=s(30545),ns=s(60308),ls=s(73749);s(92005);const os=s(84054);as.initEccLib(os);(0,ss.ZP)(os);const cs=s(69773);var rs={components:{Tabs:es.Z,TabPane:Jt.Z,Page:Qt.Z,InputNumber:Xt.Z,Spin:Ot.Z,Icon:$t.Z},data(){return{inscritpBooleanLunXun:!0,yourRate:null,networkRate:null,loginType:null,sendRealAddress:null,loadingBoolean:!1,balance:null,sendBtcaddress:null,amount:null,gasList:[],sendAmount:null,jiexiAddress:null,jiexiType:!1,monywallet:null,type:"Domains",listShowType:2,searchText:null,tabList:[{name:"Domains",type:"Domains"},{name:"IMG",type:"Image"},{name:"Other",type:"Other"}],gasList:[],btcaddress:null,send_inscript_boolean:!1,gasSelectData:{},inscrptList:[],showInscrptList:[],spanBoolean:!1,public_key:null,selectItem:{},unisatPriver:!1,inscritpBoolean:!1,full_state:null}},methods:{inscriptionstype(e){switch(e.detail.content_type){case"image/png":e.type="IMAGE";break;case"image/jpg":e.type="IMAGE";break;case"image/jpeg":e.type="IMAGE";break;case"image/webp":e.type="IMAGE";break;case"image/svg+xml":e.type="IMAGE";break;case"image/gif":e.type="GIF";break;case"text/plain;charset=utf-8":e.type="TEXT";break;case"text/html":e.type="HTML";break;case"text/html;charset=utf-8":e.type="HTML";break;case"application/json":e.type="TEXT";break;case"mp3":e.type="AUDIO";break;case"mp4":e.type="VIDEO";break;default:e.type="OTHER";break}return e},toINSFun(e){let t="https://ordinals.com/inscription/"+e;window.open(t,"_blank")},openStatusFun(e){this.full_state=parseInt(e.state),this.queryDomainMintFeeFun(e)},toinscriptionFun(e){let t=e.id.slice(0,e.id.length-2),s="https://www.blockchain.com/explorer/transactions/btc/"+t;window.open(s,"_blank")},queryDomainMintFeeFun(e){this.spanBoolean=!0;let t={};t.domain=e.domain,this.$axios({method:"post",url:is.Z.queryDomainMintFeeApi,data:t,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(this.spanBoolean=!1,0===e.data.code&&(this.inscritpBoolean=!0,this.yourRate=e.data.data.rate_fee,this.networkRate=e.data.data.fastest_fee))})).catch((e=>{this.spanBoolean=!1}))},goToCartFun(){this.spanBoolean=!0,this.$axios({method:"get",url:is.Z.getRateFeeApi,headers:{"Content-Type":"application/json"}}).then((e=>{if("200"==e.status)if(0===e.data.code){let t=e.data.data;this.gasList=this.recommendedFeeFun(t.fastestFee,t.halfHourFee,t.hourFee,this.gasSelectData.name),this.gasSelectData.name||(this.gasSelectData.name=this.gasList[0].name,this.gasSelectData.fast=t.fastestFee,this.gasSelectData.avg=t.halfHourFee,this.gasSelectData.slow=t.hourFee,this.gasSelectData.economyFee=t.economyFee,this.gasSelectData.value=this.gasList[0].value),this.spanBoolean=!1,this.send_inscript_boolean=!0}else Wt.Z.error(e.data.message),this.spanBoolean=!1})).catch((e=>{}))},jiexiFun(e){this.sendBtcaddress.endsWith(".btc")&&this.domainChangeFun()},domainChangeFun(){let e={};e.domain=this.sendBtcaddress,this.$axios({method:"post",url:is.Z.domainChangeApi,data:e,headers:{"Content-Type":"application/json"}}).then((e=>{if("200"==e.status){if(0===e.data.code)return this.jiexiAddress=e.data.data.owner_address,this.jiexiType=!0,void(this.sendRealAddress=e.data.data.owner_address);this.jiexiAddress="the address is  error",this.jiexiType=!1}})).catch((e=>{}))},changeGasInputFun(e){e&&(this.gasSelectData.slow>e||this.gasSelectData.avg>e||(this.gasSelectData.customValue=e))},changeAddressTypefun(e){this.type=e.name,this.listShowType="Image"===e?1:2,this.searchText=null,this.addressFun()},sendFun(e){this.selectItem=e,"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state||this.unisatPriver||"custom"!==this.loginType&&this.goToCartFun()},setDomainFun(e){this.submitInsTxAction(e)},async submitInsTxAction(e){if(!this.sendBtcaddress)return void Wt.Z.warning("to address must not be empty");if(this.sendBtcaddress.endsWith(".btc")){if(!this.sendRealAddress)return void Wt.Z.warning("to address must not be empty");if(!(0,ns.Gu)(this.sendRealAddress))return void Wt.Z.warning("to address is not valid")}else{if(!(0,ns.Gu)(this.sendBtcaddress))return void Wt.Z.warning("to address is not valid");this.sendRealAddress=this.sendBtcaddress}let t=this.gasSelectData.value;this.loadingBoolean=!0;const s=await(0,ls.Bt)(localStorage.walletType);if(!s)return void(this.loadingBoolean=!1);let a=localStorage.getItem("bitcoin_address");this.queryExtIns(a,s,this.sendRealAddress,t,e.detail.id)},async queryExtIns(e,t,s,a,i){this.$axios({method:"get",url:is.Z.walletInfoApi+"?address="+e,headers:{"Content-Type":"application/json"}}).then((async e=>{if("200"==e.status){let n=e.data,l=n.data,o=(0,ls.tR)(l.txrefs),c=(0,ls.fm)(l.inscriptions_by_outputs),r={privateKey:t,utxos:o,inscriptions:c,inscriptionID:i,receiver:s,feeRate:a};const{txID:d,txHex:_}=await(0,ls.Kf)(r,"inscription");this.pushTx(_)}})).catch((e=>{this.loadingBoolean=!1}))},pushTx(e){let t={};t.rawtx=e,this.$axios({method:"post",data:t,url:is.Z.pushTxApi,headers:{"Content-Type":"application/json","X-Client":"UniSat Wallet"}}).then((e=>{"200"==e.status&&(this.loadingBoolean=!1,"OK"===e.data.message?(this.send_inscript_boolean=!1,Wt.Z.success("tx: "+e.data.result+" has been publiced")):Wt.Z.info(e.data.message))})).catch((e=>{this.loadingBoolean=!1}))},choseMaskFun(e){1===e?(this.loadingBoolean=!1,this.send_inscript_boolean=!1):2===e&&(this.inscritpBoolean=!1,this.inscritpBooleanLunXun=!1)},changeGasFun(e){if(this.gasList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,"Custom"===e.name)return this.gasSelectData.customValue=this.gasSelectData.value,void(this.gasSelectData.name="Custom");this.gasSelectData.value=e.value,this.gasSelectData.name=e.name},isInputFun(e){this.searchText=e.target.value.replace(/[^a-zA-Z0-9]/g,""),e.target.value||(this.showInscrptList=this.inscrptList)},searchFun(){let e=[];this.inscrptList.forEach((t=>{(t.domain.includes(this.searchText)||t.num.toString().includes(this.searchText))&&e.push(t)})),this.showInscrptList=e},changePageFun(e){},changeShowFun(e){this.listShowType=e},recommendedFeeFun(e,t,s,a){let i=[],n={},l={},o={},c={};return n.name="Fast",n.value=e,n.fast=e,n.isSelect=!1,l.name="Avg",l.value=t,l.avg=t,l.isSelect=!1,o.name="Slow",o.value=s,o.slow=s,o.isSelect=!1,c.name="Custom",c.value=null,c.isSelect=!1,i.push(n),i.push(l),i.push(o),i.push(c),a?i.forEach((e=>{e.name===a?e.isSelect=!0:e.isSelect=!1})):i[0].isSelect=!0,i},async confirmFun(){"9"!=this.selectItem.state&&"0"!=this.selectItem.state&&"5"!=this.selectItem.state&&""!=this.selectItem.state||this.loadingBoolean||this.setDomainFun(this.selectItem)},showAddressFun(e){if(e){let t=e.slice(0,8),s=e.slice(e.length-8),a=t+"..."+s;return a}return e},addressFun(){this.spanBoolean=!0;let e={};e.inscribe_type=this.type,this.searchText?e.address=this.searchText:e.address=this.monywallet,e.sign="",this.$axios({method:"post",data:e,url:is.Z.addressApi,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(0===e.data.code?(e.data.data.result.forEach((e=>{if(this.inscriptionstype(e),e.register_date?e.register_date_show=cs(e.register_date).format("YYYY-MM-DD HH:mm:ss"):e.register_date_show="-",e.expire_date?e.expire_date_show=cs(e.expire_date).format("YYYY-MM-DD HH:mm:ss"):e.expire_date_show="-",e.id&&e.id.length>10){let t=e.id.slice(0,4),s=e.id.slice(e.id.length-4);e.id_show=t+"..."+s}else e.id_show="-"})),this.inscrptList=e.data.data.result,this.showInscrptList=e.data.data.result,this.$emit("imgNum",e.data.data.total),this.$emit("og",e.data.data.og),this.spanBoolean=!1):(this.spanBoolean=!1,Wt.Z.error(e.data.message)))})).catch((e=>{this.spanBoolean=!1}))}},mounted(){"metaMask"!=localStorage.walletType?this.unisatPriver=!0:this.unisatPriver=!1,this.loginType=localStorage.walletType,this.monywallet=localStorage.bitcoin_address,this.public_key=localStorage.public_key,this.balance=localStorage.balance,this.addressFun()}},ds=s(25312);const _s=(0,ds.Z)(rs,[["render",Yt],["__scopeId","data-v-26dc914b"]]);var us=_s,ms=s(32367),ps=s(75331);const hs=e=>((0,a.dD)("data-v-280fadb6"),e=e(),(0,a.Cn)(),e),gs={class:"wallet_app"},ys={class:"wallet_box"},vs={class:"wallet_address"},ws={class:"wallet_balance"},bs={class:"wallet_balance_right"},ks={class:"wallet_content"},Ds=hs((()=>(0,a._)("div",{class:"wallet_table_head"},[(0,a._)("div",{class:"wallet_table_com wallet_table_head_com",style:{width:"1.8rem"}},"Date"),(0,a._)("div",{class:"wallet_table_com wallet_table_head_com",style:{width:"2.5rem"}},"Address"),(0,a._)("div",{class:"wallet_table_com wallet_table_head_com",style:{"text-align":"right"}},"Amount")],-1))),fs={class:"wallet_table"},Ss={class:"wallet_table_com wallet_table_item_com",style:{width:"1.8rem"}},Fs=["onClick"],xs={class:"wallet_table_com wallet_table_item_com",style:{"text-align":"right"}},Cs={class:"mask"},Ts={class:"receive_btc"},Is={class:"displayCom maskheadcom"},Bs=hs((()=>(0,a._)("span",null,"Receive BTC/Inscription",-1))),As=hs((()=>(0,a._)("div",{class:"codeImg"},[(0,a._)("canvas",{id:"canvas"})],-1))),Zs={class:"copyBox"},Ls={class:"copyBoxContent"},js={key:0,class:"mask"},Ms={class:"send_btc"},Ps={class:"displayCom maskheadcom"},qs=hs((()=>(0,a._)("span",null,"Send BTC",-1))),zs={class:"send_inscript_box"},Es=hs((()=>(0,a._)("div",{class:"send_btc_title"},"To",-1))),Vs={class:"send_btc_title"},Hs=hs((()=>(0,a._)("span",null,"Amount",-1))),Rs={class:"send_btc_title_balance"},Ks=hs((()=>(0,a._)("div",{class:"send_inscript_dec"},"Select the network fee you want to pay:",-1))),Us=hs((()=>(0,a._)("div",{class:"cart_right_gas"},[(0,a._)("img",{src:M,alt:""}),(0,a._)("span",null,"Gas rate")],-1))),Ns={class:"gas_tab"},Gs=["onClick"],Ys={class:"gas_tab_item_value"},Ws={class:"gas_input"},$s=hs((()=>(0,a._)("span",{class:"input_number_year_position"},"sats/vB",-1))),Os={key:2,style:{color:"red"}},Xs={key:3},Qs={key:0,class:"mobile_button_loading",style:{"margin-right":"0.1rem"},color:"#1989fa"},Js=hs((()=>(0,a._)("span",null,"Confirm",-1))),ea={key:1,class:"inscript_button unisatGray"};function ta(e,t,s,n,l,o){const c=(0,a.up)("Spin"),r=(0,a.up)("van-stepper"),d=(0,a.up)("van-loading");return(0,a.wg)(),(0,a.iD)("div",gs,[(0,a._)("div",ys,[(0,a._)("div",vs,[(0,a._)("span",null,(0,i.zw)(l.walletShow),1),(0,a._)("img",{src:ms,alt:"",onClick:t[0]||(t[0]=e=>o.copyActionFun(1))})]),(0,a._)("div",ws,(0,i.zw)(l.balance)+" BTC",1),(0,a._)("div",bs,[(0,a._)("div",{class:(0,i.C_)(["wallet_balance_right_item",{set_option_com_cuton:"custom"===l.loginType,unisatGray:l.unisatPriver}]),onClick:t[1]||(t[1]=e=>o.openMaskFun(1))},"Send",2),(0,a._)("div",{class:"wallet_balance_right_item",style:{"margin-left":"0.2rem"},onClick:t[2]||(t[2]=e=>o.openMaskFun(2))},"Receive")]),(0,a._)("div",ks,[Ds,(0,a._)("div",fs,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.historyList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"wallet_table_item",key:t},[(0,a._)("div",Ss,(0,i.zw)(e.date),1),(0,a._)("div",{class:"wallet_table_com wallet_table_item_com copyclass",style:{width:"2.4rem"},onClick:t=>o.copyActionFun(2,e)},(0,i.zw)(e.addressShow),9,Fs),(0,a._)("div",xs,(0,i.zw)(e.amount)+" "+(0,i.zw)(e.symbol),1)])))),128))])])]),(0,a.Wm)(c,{size:"large",fix:"",show:l.spanBoolean},null,8,["show"]),(0,a.wy)((0,a._)("div",Cs,[(0,a._)("div",Ts,[(0,a._)("div",Is,[Bs,(0,a._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[3]||(t[3]=e=>o.choseMaskFun(2))})]),As,(0,a._)("div",Zs,[(0,a._)("span",Ls,(0,i.zw)(l.wallet),1),(0,a._)("img",{src:ps,alt:"",onClick:t[4]||(t[4]=e=>o.copyActionFun(4))})])])],512),[[S.F8,l.receive_btc_boolean]]),l.send_btc_boolean?((0,a.wg)(),(0,a.iD)("div",js,[(0,a._)("div",Ms,[(0,a._)("div",Ps,[qs,(0,a._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[5]||(t[5]=e=>o.choseMaskFun(1))})]),(0,a._)("div",zs,[Es,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.sendBtcaddress=e),onInput:t[7]||(t[7]=(...e)=>o.jiexiFun&&o.jiexiFun(...e)),type:"text",class:"set_input",placeholder:"Bitcoin address or .btc domain name"},null,544),[[S.nr,l.sendBtcaddress]]),(0,a._)("div",{class:(0,i.C_)({jiexiError:!l.jiexiType})},(0,i.zw)(o.showAddressFun(l.jiexiAddress)),3),(0,a._)("div",Vs,[Hs,(0,a._)("span",Rs,"Balance："+(0,i.zw)(l.personBalanceData.amount)+" BTC",1)]),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.sendAmount=e),type:"text",class:"set_input",placeholder:"Amount"},null,512),[[S.nr,l.sendAmount]]),Ks,Us,(0,a._)("div",Ns,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.gasList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["gas_tab_item",{gas_tab_item_sel:e.isSelect}]),onClick:t=>o.changeGasFun(e),key:t},[(0,a._)("span",null,(0,i.zw)(e.name),1),(0,a._)("span",Ys,(0,i.zw)(e.value)+" sats/vB",1)],10,Gs)))),128))]),(0,a._)("div",Ws,[$s,"Custom"!=l.gasSelectData.name?((0,a.wg)(),(0,a.j4)(r,{key:0,integer:"",min:0,modelValue:l.gasSelectData.value,"onUpdate:modelValue":t[9]||(t[9]=e=>l.gasSelectData.value=e),disabled:"","input-width":"5rem","button-size":"0.48rem"},null,8,["modelValue"])):((0,a.wg)(),(0,a.j4)(r,{key:1,integer:"",onChange:o.changeGasInputFun,min:0,modelValue:l.gasSelectData.customValue,"onUpdate:modelValue":t[10]||(t[10]=e=>l.gasSelectData.customValue=e),"input-width":"5rem","button-size":"0.48rem"},null,8,["onChange","modelValue"])),"Custom"===l.gasSelectData.name&&l.gasSelectData.customValue<l.gasSelectData.economyFee?((0,a.wg)(),(0,a.iD)("div",Os,"Minimun Fee："+(0,i.zw)(l.gasSelectData.economyFee)+"sats/vB",1)):"Custom"===l.gasSelectData.name&&l.gasSelectData.customValue<l.gasSelectData.avg?((0,a.wg)(),(0,a.iD)("div",Xs,"This fee is below the average, which may lead to a long wait time for inscription.")):(0,a.kq)("",!0)]),l.unisatPriver?((0,a.wg)(),(0,a.iD)("div",ea,"Confirm")):((0,a.wg)(),(0,a.iD)("div",{key:0,class:"inscript_button",onClick:t[11]||(t[11]=(...e)=>o.confirmFun&&o.confirmFun(...e))},[l.loadingBoolean?((0,a.wg)(),(0,a.iD)("div",Qs,[(0,a.Wm)(d,{type:"spinner",color:"#1989fa",class:"vant_loading"})])):(0,a.kq)("",!0),Js]))])])])):(0,a.kq)("",!0)])}var sa=s(1575),aa=s(41023),ia=s(27413),na={components:{Tooltip:sa.Z,Page:Qt.Z,Spin:Ot.Z,InputNumber:Xt.Z,Icon:$t.Z},data(){return{walletShow:null,loadingBoolean:!1,sendBtcaddress:null,jiexiType:!1,jiexiAddress:null,loginType:null,unisatPriver:!1,spanBoolean:!1,historyList:[],balance:null,wallet:null,receive_btc_boolean:!1,send_btc_boolean:!1,gasSelectData:{},personBalanceData:{},sendAmount:null,gasList:[]}},methods:{domainChangeFun(e){let t={};t.domain=this.sendBtcaddress,this.$axios({method:"post",url:is.Z.domainChangeApi,data:t,headers:{"Content-Type":"application/json"}}).then((t=>{if("200"==t.status)if(0===t.data.code){if(1===e)return this.jiexiAddress=t.data.data.owner_address,void(this.jiexiType=!0);if(this.sendRealAddress=t.data.data.owner_address,!(0,ns.Gu)(this.sendRealAddress))return void Wt.Z.warning("to address is not valid");"uniSat"===localStorage.walletType?this.unisatAction():this.submitBtcTxAction()}else this.jiexiAddress="the address is  error",this.jiexiType=!1,this.sendRealAddress=null})).catch((e=>{}))},confirmFun(){this.loadingBoolean||(this.sendBtcaddress?this.sendBtcaddress.endsWith(".btc")?this.domainChangeFun():(0,ns.Gu)(this.sendBtcaddress)?(this.sendRealAddress=this.sendBtcaddress,"uniSat"===localStorage.walletType?this.unisatAction():this.submitBtcTxAction()):Wt.Z.error("Receive bitcoin address is not valid"):Wt.Z.error("Receive address must not be empty"))},openMaskFun(e){if(1===e){if("custom"===this.loginType)return;if(this.unisatPriver)return;this.goToCartFun()}else{var t=document.getElementById("canvas");console.log(t),aa.toCanvas(t,this.wallet),this.receive_btc_boolean=!0}},goToCartFun(){this.$axios({method:"get",url:is.Z.getRateFeeApi,headers:{"Content-Type":"application/json"}}).then((e=>{if("200"==e.status)if(0===e.data.code){let t=e.data.data;this.gasList=this.recommendedFeeFun(t.fastestFee,t.halfHourFee,t.hourFee,this.gasSelectData.name),this.gasSelectData.name||(this.gasSelectData.name=this.gasList[0].name,this.gasSelectData.fast=t.fastestFee,this.gasSelectData.avg=t.halfHourFee,this.gasSelectData.slow=t.hourFee,this.gasSelectData.economyFee=t.economyFee,this.gasSelectData.value=this.gasList[0].value),this.send_btc_boolean=!0}else Wt.Z.error(e.data.message)})).catch((e=>{}))},recommendedFeeFun(e,t,s,a){let i=[],n={},l={},o={},c={};return n.name="Fast",n.value=e,n.fast=e,n.isSelect=!1,l.name="Avg",l.value=t,l.avg=t,l.isSelect=!1,o.name="Slow",o.value=s,o.slow=s,o.isSelect=!1,c.name="Custom",c.value=null,c.isSelect=!1,i.push(n),i.push(l),i.push(o),i.push(c),a?i.forEach((e=>{e.name===a?e.isSelect=!0:e.isSelect=!1})):i[0].isSelect=!0,i},changeGasInputFun(e){e&&(this.gasSelectData.slow>e||this.gasSelectData.avg>e||(this.gasSelectData.customValue=e))},changeGasFun(e){if(this.gasList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,"Custom"===e.name)return this.gasSelectData.customValue=this.gasSelectData.value,void(this.gasSelectData.name="Custom");this.gasSelectData.value=e.value,this.gasSelectData.name=e.name},jiexiFun(e){this.sendBtcaddress.endsWith(".btc")&&this.domainChangeFun(1),e.target.value||(this.jiexiAddress=null)},choseMaskFun(e){1===e?(this.loadingBoolean=!1,this.send_btc_boolean=!1):2===e?this.receive_btc_boolean=!1:this.save_pic_boolean=!1},async unisatAction(){this.loadingBoolean=!0;const e=new ia.Z(this.sendAmount),t=e.multipliedBy(1e8).toNumber();let s="";s="Custom"===this.gasSelectData.name?this.gasSelectData.customValue:this.gasSelectData.value;const a=await window.unisat.sendBitcoin(this.sendRealAddress,t,{feeRate:s});Wt.Z.info("submit transaction: "+a)},async submitBtcTxAction(){let e=localStorage.getItem("bitcoin_address");if(!e)return void Wt.Z.warning("from address must not be empty");if(!this.sendRealAddress)return void Wt.Z.warning("to address must not be empty");if(!this.sendAmount)return void Wt.Z.warning("amount must not be empty");let t=new ia.Z(this.sendAmount).toNumber(),s=new ia.Z(t),a=s.multipliedBy(1e8);if(a.lt(new ia.Z(1e3)))return void Wt.Z.warning("min sat you must transfer is1000");let i=new ia.Z(this.personBalanceData.amount);if(s.gte(i))return void Wt.Z.warning("max value you must transfer is "+this.personBalanceData.amount+"btc");let n="";n="Custom"===this.gasSelectData.name?this.gasSelectData.customValue:this.gasSelectData.value;const l=localStorage.walletType;this.loadingBoolean=!0;const o=await(0,ls.Bt)(l);o?this.queryExtIns(e,o,this.sendRealAddress,a,n):this.loadingBoolean=!1},async queryExtIns(e,t,s,a,i){this.$axios({method:"get",url:is.Z.walletInfoApi+"?address="+e,headers:{"Content-Type":"application/json"}}).then((async e=>{if("200"==e.status){let s=e.data,n=s.data,l=(0,ls.tR)(n.txrefs),o=(0,ls.fm)(n.inscriptions_by_outputs),c={privateKey:t,utxos:l,inscriptions:o,receiver:this.sendRealAddress,amount:a.toNumber(),feeRate:i};const{txID:r,txHex:d}=await(0,ls.Kf)(c);this.pushTx(d)}})).catch((e=>{this.loadingBoolean=!1}))},pushTx(e){let t={};t.rawtx=e,this.$axios({method:"post",data:t,url:is.Z.pushTxApi,headers:{"Content-Type":"application/json","X-Client":"UniSat Wallet"}}).then((e=>{"200"==e.status&&(this.loadingBoolean=!1,"OK"===e.data.message?(this.send_btc_boolean=!1,Wt.Z.success("tx: "+e.data.result+" has been publiced")):Wt.Z.info(e.data.message))})).catch((e=>{}))},copyActionFun(e,t){1===e?(0,ls.oZ)(this.wallet):2===e?(0,ls.oZ)(t.address):3===e?(0,ls.oZ)(t.txid):4===e&&(0,ls.oZ)(this.wallet)},changePageFun(){},showAddressFun(e){if(e){let t=e.slice(0,8),s=e.slice(e.length-8),a=t+"..."+s;return a}return e},recentHistoryFun(){let e=localStorage.bitcoin_address;this.spanBoolean=!0,this.$axios({method:"get",url:is.Z.recentHistoryApi+"/"+e,headers:{"Content-Type":"application/json"}}).then((e=>{if("200"==e.status)if(0===e.data.code){let t=e.data.data.result;t.forEach((e=>{e.addressShow=this.showAddressFun(e.address),e.tixdShow=this.showAddressFun(e.txid)})),this.historyList=t,this.spanBoolean=!1}else this.spanBoolean=!1,Wt.Z.error(e.data.message)})).catch((e=>{this.spanBoolean=!1}))},sendBtcFun(){this.$emit("sendBtc")},receiveBtcFun(){this.$emit("receiveBtc")}},mounted(){"metaMask"!=localStorage.walletType&&(this.unisatPriver=!0),this.personBalanceData.amount=localStorage.balance,this.loginType=localStorage.walletType,this.balance=localStorage.balance,this.wallet=localStorage.bitcoin_address,this.walletShow=this.showAddressFun(localStorage.bitcoin_address),this.recentHistoryFun()}};const la=(0,ds.Z)(na,[["render",ta],["__scopeId","data-v-280fadb6"]]);var oa=la,ca=s(33069),ra=s(9381),da=s(66431),_a=s(33e3);const ua=e=>((0,a.dD)("data-v-f6f4e166"),e=e(),(0,a.Cn)(),e),ma={class:"setting_app"},pa={class:"setting_content"},ha={class:"avatar_box"},ga=ua((()=>(0,a._)("div",{class:"avatar_title"},"Avatar",-1))),ya=ua((()=>(0,a._)("div",{class:"avatar_dec"},"Set your profile picture as the img-type inscription you own.",-1))),va={class:"avatar_set"},wa=["src"],ba={key:1,src:"https://app.btcdomains.io/images/assets/avater_def@2x.png",alt:"",class:"avaterImg"},ka=ua((()=>(0,a._)("img",{src:ca,alt:""},null,-1))),Da=ua((()=>(0,a._)("span",null,"Set Avatar",-1))),fa=[ka,Da],Sa={class:"avatar_box",style:{"margin-top":"0.2rem"}},Fa=ua((()=>(0,a._)("div",{class:"avatar_title"},"Name",-1))),xa=ua((()=>(0,a._)("div",{class:"avatar_dec"},"Set your .btc domain name that you own as your profile name.",-1))),Ca={class:"avatar_set"},Ta={key:0,class:"domain_name"},Ia={key:1,class:"domain_name"},Ba=ua((()=>(0,a._)("img",{src:ca,alt:""},null,-1))),Aa=ua((()=>(0,a._)("span",null,"Set Primary Domain Name",-1))),Za=[Ba,Aa],La={class:"account_box"},ja=ua((()=>(0,a._)("span",null,"Export private key",-1))),Ma=ua((()=>(0,a._)("img",{src:ra,alt:""},null,-1))),Pa=[ja,Ma],qa=ua((()=>(0,a._)("span",null,"Disconnect wallet",-1))),za=ua((()=>(0,a._)("img",{src:ra,alt:""},null,-1))),Ea=[qa,za],Va={key:0,class:"mask maskScroll"},Ha={class:"set_avatar_box"},Ra={class:"displayCom maskheadcom"},Ka=ua((()=>(0,a._)("span",null,"Set Avatar ",-1))),Ua={class:"set_prime_boy"},Na=ua((()=>(0,a._)("div",{class:"set_dec"},"Choose an img-type inscription to set as your profile picture.",-1))),Ga={class:"set_prime_search"},Ya={key:0,src:da,alt:""},Wa={key:1},$a={class:"set_avatar_table"},Oa=["onClick"],Xa=["src"],Qa={class:"set_avatar_item_dec"},Ja={class:"set_prime_item_left_dec_inf"},ei={key:1,class:"mask"},ti={class:"set_prime_box"},si={class:"displayCom maskheadcom"},ai=ua((()=>(0,a._)("span",null,"Set Prime Name ",-1))),ii={class:"set_prime_boy"},ni=ua((()=>(0,a._)("div",{class:"set_dec"},"You can choose one of your domain names as your main domain name",-1))),li={class:"set_prime_search"},oi={key:0,src:da,alt:""},ci={key:1},ri={class:"set_prime_table"},di=["onClick"],_i={class:"set_prime_item_left"},ui=["src"],mi={key:1,src:T,alt:""},pi={class:"set_prime_item_left_dec"},hi={class:"set_prime_item_left_dec_inf"},gi={key:0,src:_a,alt:"",class:"set_prime_item_right"},yi={key:2,class:"mask"},vi={class:"export_private_box"},wi={class:"displayCom maskheadcom"},bi=ua((()=>(0,a._)("span",null,"Export private key",-1))),ki=ua((()=>(0,a._)("div",{class:"private_Key"},"Private Key",-1))),Di={class:"copyBox"},fi={class:"copyBoxContent"},Si=ua((()=>(0,a._)("div",{class:"private_Key_title"},"* Anyone who has the private key can take control your account. Please manage it properly.",-1)));function Fi(e,t,s,n,l,o){const c=(0,a.up)("van-tab"),r=(0,a.up)("van-tabs"),d=(0,a.up)("Spin");return(0,a.wg)(),(0,a.iD)("div",ma,[(0,a._)("div",pa,[(0,a.Wm)(r,{active:l.tabsName,"onUpdate:active":t[4]||(t[4]=e=>l.tabsName=e)},{default:(0,a.w5)((()=>[l.unisatPriver?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(c,{key:0,title:"Profile",name:"Profile"},{default:(0,a.w5)((()=>[(0,a._)("div",ha,[ga,ya,(0,a._)("div",va,[l.personData.content_url&&l.personData.content_url.length>3?((0,a.wg)(),(0,a.iD)("img",{key:0,src:l.personData.content_url,alt:"",class:"avatar_set_img"},null,8,wa)):((0,a.wg)(),(0,a.iD)("img",ba)),(0,a._)("div",{class:(0,i.C_)(["avatar_set_option",{unisatGray:l.unisatPriver}]),onClick:t[0]||(t[0]=e=>o.openmaskFun(1))},fa,2)])]),(0,a._)("div",Sa,[Fa,xa,(0,a._)("div",Ca,[l.personData?((0,a.wg)(),(0,a.iD)("span",Ta,(0,i.zw)(l.personData.domain),1)):((0,a.wg)(),(0,a.iD)("span",Ia)),(0,a._)("div",{class:(0,i.C_)(["avatar_set_option",{unisatGray:l.unisatPriver}]),onClick:t[1]||(t[1]=e=>o.openmaskFun(2))},Za,2)])])])),_:1})),(0,a.Wm)(c,{title:"Account",name:"Account"},{default:(0,a.w5)((()=>[(0,a._)("div",La,[(0,a._)("div",{class:(0,i.C_)(["account_item",{unisatGray:l.unisatPriver}]),onClick:t[2]||(t[2]=e=>o.openmaskFun(3))},Pa,2),(0,a._)("div",{class:"account_item",onClick:t[3]||(t[3]=(...e)=>o.outLoginFun&&o.outLoginFun(...e))},Ea)])])),_:1})])),_:1},8,["active"])]),l.set_avatar_boolean?((0,a.wg)(),(0,a.iD)("div",Va,[(0,a._)("div",Ha,[(0,a._)("div",Ra,[Ka,(0,a._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[5]||(t[5]=e=>o.choseMaskFun(1))})]),(0,a._)("div",Ua,[Na,(0,a._)("div",Ga,[(0,a.wy)((0,a._)("input",{onKeyup:t[6]||(t[6]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),onInput:t[7]||(t[7]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[8]||(t[8]=e=>l.searchText=e),type:"text",class:"set_input",placeholder:"Search  inscription number"},null,544),[[S.nr,l.searchText]]),(0,a._)("img",{src:F,alt:"",onClick:t[9]||(t[9]=(...e)=>o.searchFun&&o.searchFun(...e))})]),(0,a._)("div",{class:(0,i.C_)(["selectdiv",{hasdomain:l.selectData}])},[l.selectData?((0,a.wg)(),(0,a.iD)("img",Ya)):(0,a.kq)("",!0),l.selectData?((0,a.wg)(),(0,a.iD)("span",Wa,"Choose "+(0,i.zw)(l.selectData.num),1)):(0,a.kq)("",!0)],2),(0,a._)("div",$a,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.domainShowList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["set_avatar_item",{set_prime_item_sel:e.isSelect}]),onClick:t=>o.chooseAvatarFun(e),key:t},[(0,a._)("img",{src:e.detail.content,alt:""},null,8,Xa),(0,a._)("div",Qa,[(0,a._)("span",null,(0,i.zw)(e.domain),1),(0,a._)("span",Ja," INS #"+(0,i.zw)(e.number),1)])],10,Oa)))),128))]),(0,a._)("div",{class:"inscript_button",onClick:t[10]||(t[10]=e=>o.confirmFun(1))},"Confirm")])])])):(0,a.kq)("",!0),l.set_prime_boolean?((0,a.wg)(),(0,a.iD)("div",ei,[(0,a._)("div",ti,[(0,a._)("div",si,[ai,(0,a._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[11]||(t[11]=e=>o.choseMaskFun(2))})]),(0,a._)("div",ii,[ni,(0,a._)("div",li,[(0,a.wy)((0,a._)("input",{onKeyup:t[12]||(t[12]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),onInput:t[13]||(t[13]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[14]||(t[14]=e=>l.searchText=e),type:"text",class:"set_input",placeholder:"Search domain name or inscription number"},null,544),[[S.nr,l.searchText]]),(0,a._)("img",{src:F,alt:"",onClick:t[15]||(t[15]=(...e)=>o.searchFun&&o.searchFun(...e))})]),(0,a._)("div",{class:(0,i.C_)(["selectdiv",{hasdomain:l.selectData}])},[l.selectData?((0,a.wg)(),(0,a.iD)("img",oi)):(0,a.kq)("",!0),l.selectData?((0,a.wg)(),(0,a.iD)("span",ci,"Choose "+(0,i.zw)(l.selectData.domain),1)):(0,a.kq)("",!0)],2),(0,a._)("div",ri,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.domainShowList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["set_prime_item",{set_prime_item_sel:e.isSelect}]),onClick:t=>o.chooseDomainFun(e),key:t},[(0,a._)("div",_i,[e.domain_img.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.domain_img,alt:""},null,8,ui)):((0,a.wg)(),(0,a.iD)("img",mi)),(0,a._)("div",pi,[(0,a._)("span",null,(0,i.zw)(e.domain),1),(0,a._)("span",hi,"INS #"+(0,i.zw)(e.number),1)])]),e.isSelect?((0,a.wg)(),(0,a.iD)("img",gi)):(0,a.kq)("",!0)],10,di)))),128))]),(0,a._)("div",{class:"inscript_button",onClick:t[16]||(t[16]=e=>o.confirmFun(2))},"Confirm")])])])):(0,a.kq)("",!0),l.export_private_boolean?((0,a.wg)(),(0,a.iD)("div",yi,[(0,a._)("div",vi,[(0,a._)("div",wi,[bi,(0,a._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[17]||(t[17]=e=>o.choseMaskFun(3))})]),ki,(0,a._)("div",Di,[(0,a._)("span",fi,(0,i.zw)(l.privKey),1),(0,a._)("img",{src:ps,alt:"",onClick:t[18]||(t[18]=(...e)=>o.copyActionFun&&o.copyActionFun(...e))})]),Si])])):(0,a.kq)("",!0),(0,a.Wm)(d,{size:"large",fix:"",show:l.spanBoolean},null,8,["show"])])}var xi=s(14899),Ci=s(5578),Ti=s(17291);const Ii="m/86'/0'/0'/0/0",Bi="Welcome to the secure sites, btcdomains.io and btcwallet.network! Please ensure you are visiting the correct URLs: btcdomains.io and btcwallet.network. Engaging in transactions or signing activities outside of these official sites may expose your private key and put your security at risk.",Ai=s(84054);as.initEccLib(Ai);const Zi=(0,ss.ZP)(Ai);var Li={components:{Tabs:es.Z,TabPane:Jt.Z,Page:Qt.Z,Spin:Ot.Z},data(){return{tabsName:"Account",searchText:null,unisatPriver:!1,spanBoolean:!1,monywallet:null,export_private_boolean:!1,set_prime_boolean:!1,set_avatar_boolean:!1,selectData:null,domainList:[],domainShowList:[],avatar:null,personData:{content_url:"",domain_img:null,domain:null},public_key:null,privKey:null}},methods:{copyActionFun(){(0,ls.oZ)(this.privKey)},chooseDomainFun(e){e.isSelect||(this.domainShowList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,this.selectData=e)},chooseAvatarFun(e){e.isSelect||(this.domainShowList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,this.selectData=e)},choseMaskFun(e){this.searchText=null,1===e?this.set_avatar_boolean=!1:2===e?this.set_prime_boolean=!1:3===e&&(this.export_private_boolean=!1)},openmaskFun(e){if(this.searchText=null,1===e){if(this.unisatPriver)return;this.addressFun("Image")}else if(2===e){if(this.unisatPriver)return;this.selectData=null,this.addressFun("Domains")}else if(3===e){if(this.unisatPriver)return;this.exportPrivateKey()}},async exportPrivateKey(){let e=localStorage.walletType;if("uniSat"===e){let e=await window.unisat.signMessage(Bi);const t=xi.Y0(Ci.w(xi.Y0(e)));let s=Zi.fromSeed(ts.Buffer.from(t.slice(2)));const a=s.derivePath(Ii),i=a.privateKey?.toString("hex");return this.export_private_boolean=!0,i}if("metaMask"===e){if("undefined"===typeof window.ethereum)return void alert("Metamask is not installed!");let e=new Ti.Q(window.ethereum),t=await e.getSigner(),s=await t.signMessage(Bi);const a=xi.Y0(Ci.w(xi.Y0(s)));let i=Zi.fromSeed(ts.Buffer.from(a.slice(2)));const n=i.derivePath(Ii),l=n.privateKey?.toString("hex");return this.export_private_boolean=!0,this.privKey=l,l}},outLoginFun(){localStorage.clear(),this.$router.push({name:"mobile_home"})},searchFun(){let e=[];this.domainList.forEach((t=>{(t.domain.includes(this.searchText)||t.num.toString().includes(this.searchText))&&e.push(t)})),this.domainShowList=e},isInputFun(e){this.searchText=e.target.value.replace(/[^a-zA-Z0-9]/g,""),e.target.value||(this.domainShowList=this.domainList)},changePageFun(e){},async confirmFun(e){if(!this.selectData)return void Wt.Z.info("choose one of your domain names");let t="",s=localStorage.walletType;if("metaMask"===s){let e=new Ti.Q(window.ethereum),s=await e.getSigner(),a=await s.signMessage(Bi),i=xi.Y0(Ci.w(xi.Y0(a))),n=Zi.fromSeed(ts.Buffer.from(i.slice(2))),l=n.derivePath(Ii),o=ts.Buffer.from(this.monywallet),c=as.crypto.sha256(o),r=l.sign(c);t=r.toString("hex")}else"uniSat"===s&&(t=await window.unisat.signMessage(Bi));1===e?this.setDomainFun(t,"Image"):this.setDomainFun(t,"Domains")},setDomainFun(e,t){this.selectData||Wt.Z.success("Please select a domain");let s={};"Domains"===t?(s.inscribe_id="",s.domain=this.selectData.domain):(s.inscribe_id=this.selectData.id,s.domain=""),s.address=this.monywallet,s.signature=e,s.public_key=this.public_key,s.sign_type=localStorage.walletType.toLowerCase(),this.$axios({method:"post",data:s,url:is.Z.setDomainApi,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(0===e.data.code?("Domains"===t?this.set_prime_boolean=!1:this.set_avatar_boolean=!1,Wt.Z.success("success"),location.reload()):Wt.Z.error(e.data.message))})).catch((e=>{}))},addressPersonFun(){this.spanBoolean=!0;let e={};e.address=this.monywallet,this.$axios({method:"post",url:is.Z.getDomainApi,data:e,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(0===e.data.code?(e.data.data.length>0&&(this.personData=e.data.data[0]),this.spanBoolean=!1):(Wt.Z.error(e.data.message),this.spanBoolean=!1))})).catch((e=>{this.spanBoolean=!1}))},addressFun(e){this.domainList=[],this.domainShowList=[],this.spanBoolean=!0;let t={};t.inscribe_type=e,t.address=this.monywallet,t.sign="",this.$axios({method:"post",data:t,url:is.Z.inscriptListApi,headers:{"Content-Type":"application/json"}}).then((t=>{"200"==t.status&&("Domains"===e?(t.data.data.result.forEach((e=>{e.isSelect=!1})),this.domainList=t.data.data.result,this.domainShowList=t.data.data.result,this.set_prime_boolean=!0):(t.data.data.result.forEach((e=>{e.isSelect=!1})),this.domainList=t.data.data.result,this.domainShowList=t.data.data.result,this.set_avatar_boolean=!0),this.spanBoolean=!1)})).catch((e=>{this.spanBoolean=!1}))}},mounted(){let e=localStorage.walletType;"metaMask"!=e?(this.unisatPriver=!0,this.tabsName="Account"):(this.unisatPriver=!1,this.tabsName="Profile"),console.log(this.tabsName),console.log(this.unisatPriver),this.monywallet=localStorage.bitcoin_address,this.public_key=localStorage.public_key,this.addressPersonFun()}};const ji=(0,ds.Z)(Li,[["render",Fi],["__scopeId","data-v-f6f4e166"]]);var Mi=ji,Pi={components:{MobileHead:D.Z,MobileFoot:f.Z,MobileInscription:us,MobileWallet:oa,MobileSetting:Mi},ogBoolean:{immediate:!0,handler(e){this.ogShow=e}},data(){return{loginType:null,clientHeight:null,personData:{content_url:"",domain:""},ogShow:!1,monywallet:null,type:"Inscription",optionsList:[{selUrl:s(358),norUrl:s(85064),cusUrl:s(358),name:"Inscription",isSelect:!0},{selUrl:s(2439),norUrl:s(22577),cusUrl:s(72602),name:"Wallet",isSelect:!1},{selUrl:s(11389),norUrl:s(33555),cusUrl:s(43557),name:"Setting",isSelect:!1}]}},methods:{imgNumFun(e){this.saveImgObj=e},ogFun(e){this.ogBoolean=e},changeOptionFun(e){"custom"!==this.loginType&&(e.isSelect||(this.optionsList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,localStorage.optionName=e.name,this.type=e.name))},addressPersonFun(){let e={};e.address=this.monywallet,this.$axios({method:"post",url:is.Z.getDomainApi,data:e,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(0===e.data.code?e.data.data.length>0&&(this.personData=e.data.data[0]):Message.error(e.data.message))})).catch((e=>{}))}},mounted(){this.clientHeight=document.documentElement.clientHeight-70,this.monywallet=localStorage.bitcoin_address,this.addressPersonFun();let e=localStorage.optionName;e&&(this.optionsList.forEach((t=>{t.name===e?t.isSelect=!0:t.isSelect=!1})),this.type=e)}};const qi=(0,ds.Z)(Pi,[["render",k],["__scopeId","data-v-1e398d84"]]);var zi=qi}}]);
//# sourceMappingURL=884.e05d9459.js.map