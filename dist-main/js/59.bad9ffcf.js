"use strict";(self["webpackChunknew_btcdomain_vue3"]=self["webpackChunknew_btcdomain_vue3"]||[]).push([[59],{25255:function(e,t,a){a.r(t),a.d(t,{default:function(){return zi}});var s=a(98473),i=a(24887),n=a(26601);const l=e=>((0,s.dD)("data-v-1e398d84"),e=e(),(0,s.Cn)(),e),o={class:"mobile_person_app"},c=l((()=>(0,s._)("div",{class:"mobile_person_head"},null,-1))),r={class:"person_body_left"},d={class:"set_avater"},_=["src"],u={key:1,src:"https://app.btcdomains.io/images/assets/avater_def@2x.png",alt:"",class:"avaterImg"},m={key:2,src:n,alt:"",class:"ogImg"},p={key:0,class:"set_domain"},h={class:"set_options"},g=["onClick"],y=["src"],v=["src"],w=["src"],b={class:"person_body_right"};function k(e,t,a,n,l,k){const D=(0,s.up)("MobileHead"),f=(0,s.up)("MobileInscription"),S=(0,s.up)("MobileWallet"),F=(0,s.up)("MobileSetting"),x=(0,s.up)("MobileFoot");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(D),c,(0,s._)("div",{class:"mobile_person_body",style:(0,i.j5)({minHeight:l.clientHeight+"px"})},[(0,s._)("div",r,[(0,s._)("div",d,[l.personData.content_url&&l.personData.content_url.length>3?((0,s.wg)(),(0,s.iD)("img",{key:0,src:l.personData.content_url,alt:"",class:"avaterImg"},null,8,_)):((0,s.wg)(),(0,s.iD)("img",u)),l.ogShow?((0,s.wg)(),(0,s.iD)("img",m)):(0,s.kq)("",!0)]),l.personData?((0,s.wg)(),(0,s.iD)("div",p,(0,i.zw)(l.personData.domain),1)):(0,s.kq)("",!0),(0,s._)("div",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.optionsList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"set_options_item",key:t,onClick:t=>k.changeOptionFun(e)},[e.isSelect&&"custom"!=l.loginType?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.selUrl,alt:""},null,8,y)):e.isSelect||"custom"==l.loginType?"custom"===l.loginType?((0,s.wg)(),(0,s.iD)("img",{key:2,src:e.cusUrl,alt:""},null,8,w)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("img",{key:1,src:e.norUrl,alt:""},null,8,v)),(0,s._)("span",{class:(0,i.C_)({set_options_item_select:e.isSelect,set_options_item_cus:"custom"===l.loginType&&"Inscription"!=e.name})},(0,i.zw)(e.name),3)],8,g)))),128))])]),(0,s._)("div",b,["Inscription"===l.type?((0,s.wg)(),(0,s.j4)(f,{key:0})):(0,s.kq)("",!0),"Wallet"===l.type?((0,s.wg)(),(0,s.j4)(S,{key:1})):(0,s.kq)("",!0),"Setting"===l.type?((0,s.wg)(),(0,s.j4)(F,{key:2})):(0,s.kq)("",!0)])],4),(0,s.Wm)(x)])}var D=a(23235),f=a(45480),S=a(29197),F=a(62156),x=a(94741),C=a(28489),T=a(68745),B=a(96850),I=a(92599),A=a(80360),Z=a(63428),L=a(31146),j=a(81923),M=a(88070),P=a(31977),q=a(25571),z=a(82198);const E=e=>((0,s.dD)("data-v-72d9aac5"),e=e(),(0,s.Cn)(),e),V={class:"inscription_app"},H={class:"inscription_tab"},R={class:"inscription_tab_box"},K={class:"inscription_search_box"},U={class:"inscription_search_input"},N={class:"inscription_showtype"},G={key:0,class:"inscription_tab_list"},Y={class:"inscription_tab_item_head"},W={class:"inscription_tab_item_head_left"},$={key:0},O=["src"],X={key:1,src:T,alt:""},Q={key:1},J=["src"],ee={key:1,src:T,alt:""},te={key:2},ae={key:0,src:B,alt:""},se={key:1,src:I,alt:""},ie={key:2,src:A,alt:""},ne={key:3,src:Z,alt:""},le={class:"inscription_tab_item_head_com"},oe={class:"inscription_tab_item_head_com_item"},ce=E((()=>(0,s._)("div",{class:"inscription_tab_item_head_com_item"},"Hash ID",-1))),re={class:"inscription_tab_item_head_com"},de={class:"inscription_tab_item_head_com_item"},_e=["onClick"],ue={key:1,class:"tab_item_left_dec_type"},me=["onClick"],pe={class:"inscription_tab_item_box"},he={class:"inscription_tab_item_box_item"},ge=E((()=>(0,s._)("span",null,"Expiration Date",-1))),ye={class:"inscription_tab_item_option"},ve=["onClick"],we=E((()=>(0,s._)("img",{src:L,alt:""},null,-1))),be=E((()=>(0,s._)("span",null,"Send",-1))),ke=[we,be],De=["onClick"],fe={key:1,class:"inscription_tab_list_card"},Se={key:0,class:"inscription_tab_item_card_head"},Fe=["src"],xe={key:1,src:T,alt:""},Ce={key:1,class:"inscription_tab_item_card_head"},Te=["src"],Be={key:1,src:T,alt:""},Ie={key:2,class:"inscription_tab_item_card_head"},Ae={key:0,src:B,alt:""},Ze={key:1,src:I,alt:""},Le={key:2,src:A,alt:""},je={key:3,src:Z,alt:""},Me={class:"inscription_tab_item_card_middle"},Pe={class:"inscription_tab_item_head_com",style:{"margin-left":"0"}},qe={class:"inscription_tab_item_head_com_item"},ze=E((()=>(0,s._)("div",{class:"inscription_tab_item_head_com_item"},"Hash ID",-1))),Ee={class:"inscription_tab_item_head_com",style:{"margin-left":"0"}},Ve={class:"inscription_tab_item_head_com_item"},He=["onClick"],Re={key:1,class:"tab_item_left_dec_type"},Ke=["onClick"],Ue={class:"inscription_tab_item_box"},Ne={class:"inscription_tab_item_box_item"},Ge=E((()=>(0,s._)("span",null,"Expiration Date",-1))),Ye={class:"inscription_tab_item_option"},We=["onClick"],$e=E((()=>(0,s._)("img",{src:L,alt:""},null,-1))),Oe=E((()=>(0,s._)("span",null,"Send",-1))),Xe=[$e,Oe],Qe=["onClick"],Je={key:0,class:"mask"},et={class:"send_btc"},tt={class:"displayCom maskheadcom"},at={class:"send_inscript_box"},st=E((()=>(0,s._)("div",{class:"send_btc_title"},"To",-1))),it=E((()=>(0,s._)("div",{class:"send_inscript_dec"},"Select the network fee you want to pay:",-1))),nt=E((()=>(0,s._)("div",{class:"cart_right_gas"},[(0,s._)("img",{src:M,alt:""}),(0,s._)("span",null,"Gas rate")],-1))),lt={class:"gas_tab"},ot=["onClick"],ct={class:"gas_tab_item_value"},rt={class:"gas_input"},dt=E((()=>(0,s._)("span",{class:"input_number_year_position"},"sats/vB",-1))),_t={key:2,style:{color:"red"}},ut={key:3},mt={key:0,class:"mobile_button_loading",style:{"margin-right":"0.1rem"},color:"#1989fa"},pt=E((()=>(0,s._)("span",null,"Confirm",-1))),ht={key:1,class:"mask"},gt={class:"inscript_box",style:{"margin-top":"0.8rem"}},yt={class:"displayCom maskheadcom"},vt=E((()=>(0,s._)("span",null,"Inscribe State",-1))),wt={class:"inscript_body"},bt=E((()=>(0,s._)("div",{class:"inscript_step"},[(0,s._)("img",{src:P,class:"inscript_step_img",alt:""}),(0,s._)("div",{class:"inscript_step_info"},[(0,s._)("span",null,"Locked The Dominate"),(0,s._)("span",{class:"inscript_step_info_dec"},"This domain name has been locked. Don't worry about being preempted.")])],-1))),kt={class:"inscript_step"},Dt={key:0,src:q,class:"inscript_step_img demo",alt:""},ft={key:1,src:P,class:"inscript_step_img",alt:""},St={key:2,src:P,class:"inscript_step_img",alt:""},Ft=E((()=>(0,s._)("div",{class:"inscript_step_info"},[(0,s._)("div",null,[(0,s._)("span",null,"Fund Transfer Pending")]),(0,s._)("span",{class:"inscript_step_info_dec"},"Confirm the remaining 2 blocks.")],-1))),xt={class:"inscript_step"},Ct={key:0,src:z,class:"inscript_step_img",alt:""},Tt={key:1,src:q,class:"inscript_step_img demo",alt:""},Bt={key:2,src:P,class:"inscript_step_img",alt:""},It={key:3,src:P,class:"inscript_step_img",alt:""},At=E((()=>(0,s._)("div",{class:"inscript_step_info"},[(0,s._)("span",null,"Inscribing"),(0,s._)("div",{class:"inscript_step_info_bing"},[(0,s._)("span",{class:"inscript_step_info_dec"},"Confirm the remaining 2 blocks.")])],-1))),Zt={class:"inscript_step"},Lt={key:0,src:z,class:"inscript_step_img",alt:""},jt={key:1,src:z,class:"inscript_step_img",alt:""},Mt={key:2,src:q,class:"inscript_step_img demo",alt:""},Pt={key:3,src:P,class:"inscript_step_img",alt:""},qt={key:4,src:P,class:"inscript_step_img",alt:""},zt=E((()=>(0,s._)("div",{class:"inscript_step_info"},[(0,s._)("span",null,"Inscription Transfer Pending "),(0,s._)("span",{class:"inscript_step_info_dec"},"Confirm the remaining 2 blocks.")],-1))),Et=E((()=>(0,s._)("div",{class:"inscript_body_dec"},"The domain name transfer may take some time.",-1))),Vt={class:"inscript_step_info_right"},Ht={class:"inscript_step_info_right_item"},Rt=E((()=>(0,s._)("span",null,"Network rate:",-1))),Kt={style:{"margin-left":"0.16rem"}},Ut={class:"inscript_step_info_right_item"},Nt=E((()=>(0,s._)("span",null,"Your rate:",-1))),Gt={style:{"margin-left":"0.16rem"}};function Yt(e,t,a,n,l,o){const c=(0,s.up)("van-tab"),r=(0,s.up)("van-tabs"),d=(0,s.up)("van-stepper"),_=(0,s.up)("van-loading"),u=(0,s.up)("Spin");return(0,s.wg)(),(0,s.iD)("div",V,[(0,s._)("div",H,[(0,s.Wm)(r,{onClickTab:o.changeAddressTypefun,active:l.type,"onUpdate:active":t[12]||(t[12]=e=>l.type=e)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabList,((e,a)=>((0,s.wg)(),(0,s.j4)(c,{title:e.name,name:e.type,key:a},{default:(0,s.w5)((()=>[(0,s._)("div",R,[(0,s._)("div",K,[(0,s._)("div",U,["Domains"===l.type?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"text",onInput:t[0]||(t[0]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>l.searchText=e),onKeyup:t[2]||(t[2]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),placeholder:"Search domain name or inscription...",class:"search_insription"},null,544)),[[S.nr,l.searchText]]):"Image"===l.type?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:1,type:"text",onInput:t[3]||(t[3]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>l.searchText=e),onKeyup:t[5]||(t[5]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),placeholder:"Search  inscription number",class:"search_insription"},null,544)),[[S.nr,l.searchText]]):"Other"===l.type?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:2,type:"text",onInput:t[6]||(t[6]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[7]||(t[7]=e=>l.searchText=e),onKeyup:t[8]||(t[8]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),placeholder:"Search  inscription number",class:"search_insription"},null,544)),[[S.nr,l.searchText]]):(0,s.kq)("",!0),(0,s._)("img",{src:F,alt:"",onClick:t[9]||(t[9]=(...e)=>o.searchFun&&o.searchFun(...e))})]),(0,s._)("div",N,[(0,s._)("img",{src:x,alt:"",onClick:t[10]||(t[10]=e=>o.changeShowFun(1))}),(0,s._)("img",{src:C,alt:"",onClick:t[11]||(t[11]=e=>o.changeShowFun(2)),style:{"margin-left":"0.2rem"}})])]),2===l.listShowType?((0,s.wg)(),(0,s.iD)("div",G,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.showInscrptList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"inscription_tab_item",key:t},[(0,s._)("div",Y,[(0,s._)("div",W,["Domains"===l.type?((0,s.wg)(),(0,s.iD)("div",$,[e.domain_img.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.domain_img,alt:""},null,8,O)):((0,s.wg)(),(0,s.iD)("img",X))])):"Image"===l.type?((0,s.wg)(),(0,s.iD)("div",Q,[e.detail.content.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.detail.content,alt:""},null,8,J)):((0,s.wg)(),(0,s.iD)("img",ee))])):"Other"===l.type?((0,s.wg)(),(0,s.iD)("div",te,["HTML"===e.type?((0,s.wg)(),(0,s.iD)("img",ae)):(0,s.kq)("",!0),"TEXT"===e.type?((0,s.wg)(),(0,s.iD)("img",se)):(0,s.kq)("",!0),"AUDIO"===e.type?((0,s.wg)(),(0,s.iD)("img",ie)):(0,s.kq)("",!0),"VIDEO"===e.type?((0,s.wg)(),(0,s.iD)("img",ne)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",le,[(0,s._)("div",oe,(0,i.zw)(e.domain),1),ce])]),(0,s._)("div",re,[(0,s._)("div",de,[e.number&&e.number>0?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tab_item_left_dec_type",style:{"text-decoration":"underline",cursor:"pointer"},onClick:t=>o.toINSFun(e.id)},"INS #"+(0,i.zw)(e.number),9,_e)):((0,s.wg)(),(0,s.iD)("span",ue,"INS -"))]),(0,s._)("div",{class:"inscription_tab_item_head_com_item",onClick:t=>o.toinscriptionFun(e)},(0,i.zw)(e.id_show),9,me)])]),(0,s._)("div",pe,[(0,s._)("div",he,[ge,(0,s._)("span",null,(0,i.zw)(e.expire_date_show),1)])]),(0,s._)("div",ye,[(0,s._)("div",{class:(0,i.C_)(["tab_item_right_option",{tab_item_right_option_ing:"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state||l.unisatPriver||"custom"===l.loginType}]),onClick:t=>o.sendFun(e)},ke,10,ve),"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tab_item_right_status",style:{color:"#EEA119",background:"rgba(238,161,25,0.1)",cursor:"pointer"},onClick:t=>o.openStatusFun(e)},"Registering... ",8,De)):(0,s.kq)("",!0)])])))),128))])):(0,s.kq)("",!0),1===l.listShowType?((0,s.wg)(),(0,s.iD)("div",fe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.showInscrptList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"inscription_tab_item_card",key:t},["Domains"===l.type?((0,s.wg)(),(0,s.iD)("div",Se,[e.domain_img.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.domain_img,alt:""},null,8,Fe)):((0,s.wg)(),(0,s.iD)("img",xe))])):"Image"===l.type?((0,s.wg)(),(0,s.iD)("div",Ce,[e.detail.content.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.detail.content,alt:""},null,8,Te)):((0,s.wg)(),(0,s.iD)("img",Be))])):"Other"===l.type?((0,s.wg)(),(0,s.iD)("div",Ie,["HTML"===e.type?((0,s.wg)(),(0,s.iD)("img",Ae)):(0,s.kq)("",!0),"TEXT"===e.type?((0,s.wg)(),(0,s.iD)("img",Ze)):(0,s.kq)("",!0),"AUDIO"===e.type?((0,s.wg)(),(0,s.iD)("img",Le)):(0,s.kq)("",!0),"VIDEO"===e.type?((0,s.wg)(),(0,s.iD)("img",je)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",Me,[(0,s._)("div",Pe,[(0,s._)("div",qe,(0,i.zw)(e.domain),1),ze]),(0,s._)("div",Ee,[(0,s._)("div",Ve,[e.number&&e.number>0?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tab_item_left_dec_type",style:{"text-decoration":"underline",cursor:"pointer"},onClick:t=>o.toINSFun(e.id)},"INS #"+(0,i.zw)(e.number),9,He)):((0,s.wg)(),(0,s.iD)("span",Re,"INS -"))]),(0,s._)("div",{class:"inscription_tab_item_head_com_item",onClick:t=>o.toinscriptionFun(e)},(0,i.zw)(e.id_show),9,Ke)])]),(0,s._)("div",Ue,[(0,s._)("div",Ne,[Ge,(0,s._)("span",null,(0,i.zw)(e.expire_date_show),1)])]),(0,s._)("div",Ye,[(0,s._)("div",{class:(0,i.C_)(["tab_item_right_option",{tab_item_right_option_ing:"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state||l.unisatPriver||"custom"===l.loginType}]),onClick:t=>o.sendFun(e)},Xe,10,We),"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tab_item_right_status",style:{color:"#EEA119",background:"rgba(238,161,25,0.1)",cursor:"pointer"},onClick:t=>o.openStatusFun(e)},"Registering... ",8,Qe)):(0,s.kq)("",!0)])])))),128))])):(0,s.kq)("",!0)])])),_:2},1032,["title","name"])))),128))])),_:1},8,["onClickTab","active"])]),l.send_inscript_boolean?((0,s.wg)(),(0,s.iD)("div",Je,[(0,s._)("div",et,[(0,s._)("div",tt,[(0,s._)("span",null,"Send #"+(0,i.zw)(l.selectItem.number),1),(0,s._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[13]||(t[13]=e=>o.choseMaskFun(1))})]),(0,s._)("div",at,[st,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.sendBtcaddress=e),onInput:t[15]||(t[15]=(...e)=>o.jiexiFun&&o.jiexiFun(...e)),type:"text",class:"set_input",placeholder:"Bitcoin address or .btc domain name"},null,544),[[S.nr,l.sendBtcaddress]]),(0,s._)("div",{class:(0,i.C_)({jiexiError:!l.jiexiType})},(0,i.zw)(o.showAddressFun(l.jiexiAddress)),3),it,nt,(0,s._)("div",lt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.gasList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["gas_tab_item",{gas_tab_item_sel:e.isSelect}]),onClick:t=>o.changeGasFun(e),key:t},[(0,s._)("span",null,(0,i.zw)(e.name),1),(0,s._)("span",ct,(0,i.zw)(e.value)+" sats/vB",1)],10,ot)))),128))]),(0,s._)("div",rt,[dt,"Custom"!=l.gasSelectData.name?((0,s.wg)(),(0,s.j4)(d,{key:0,integer:"",min:0,modelValue:l.gasSelectData.value,"onUpdate:modelValue":t[16]||(t[16]=e=>l.gasSelectData.value=e),disabled:"","input-width":"5rem","button-size":"0.48rem"},null,8,["modelValue"])):((0,s.wg)(),(0,s.j4)(d,{key:1,integer:"",onChange:o.changeGasInputFun,min:0,modelValue:l.gasSelectData.customValue,"onUpdate:modelValue":t[17]||(t[17]=e=>l.gasSelectData.customValue=e),"input-width":"5rem","button-size":"0.48rem"},null,8,["onChange","modelValue"])),"Custom"===l.gasSelectData.name&&l.gasSelectData.customValue<l.gasSelectData.economyFee?((0,s.wg)(),(0,s.iD)("div",_t,"Minimun Fee："+(0,i.zw)(l.gasSelectData.economyFee)+"sats/vB",1)):"Custom"===l.gasSelectData.name&&l.gasSelectData.customValue<l.gasSelectData.avg?((0,s.wg)(),(0,s.iD)("div",ut,"This fee is below the average, which may lead to a long wait time for inscription.")):(0,s.kq)("",!0)]),(0,s._)("div",{class:"inscript_button",onClick:t[18]||(t[18]=(...e)=>o.confirmFun&&o.confirmFun(...e))},[l.loadingBoolean?((0,s.wg)(),(0,s.iD)("div",mt,[(0,s.Wm)(_,{type:"spinner",color:"#1989fa",class:"vant_loading"})])):(0,s.kq)("",!0),pt])])])])):(0,s.kq)("",!0),l.inscritpBoolean?((0,s.wg)(),(0,s.iD)("div",ht,[(0,s._)("div",gt,[(0,s._)("div",yt,[vt,(0,s._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[19]||(t[19]=e=>o.choseMaskFun(2))})]),(0,s._)("div",wt,[bt,(0,s._)("div",kt,[1===l.full_state?((0,s.wg)(),(0,s.iD)("img",Dt)):l.full_state>1&&9!=l.full_state?((0,s.wg)(),(0,s.iD)("img",ft)):0===l.full_state?((0,s.wg)(),(0,s.iD)("img",St)):(0,s.kq)("",!0),Ft]),(0,s._)("div",xt,[1===l.full_state?((0,s.wg)(),(0,s.iD)("img",Ct)):2===l.full_state?((0,s.wg)(),(0,s.iD)("img",Tt)):l.full_state>2&&9!=l.full_state?((0,s.wg)(),(0,s.iD)("img",Bt)):0===l.full_state?((0,s.wg)(),(0,s.iD)("img",It)):(0,s.kq)("",!0),At]),(0,s._)("div",Zt,[1===l.full_state?((0,s.wg)(),(0,s.iD)("img",Lt)):2===l.full_state?((0,s.wg)(),(0,s.iD)("img",jt)):3===l.full_state?((0,s.wg)(),(0,s.iD)("img",Mt)):l.full_state>3&&9!=l.full_state?((0,s.wg)(),(0,s.iD)("img",Pt)):0===l.full_state?((0,s.wg)(),(0,s.iD)("img",qt)):(0,s.kq)("",!0),zt]),Et,(0,s._)("div",Vt,[(0,s._)("div",Ht,[Rt,(0,s._)("span",Kt,(0,i.zw)(l.networkRate)+" sats/vB",1)]),(0,s._)("div",Ut,[Nt,(0,s._)("span",Gt,(0,i.zw)(l.yourRate)+" sats/vB",1)])]),(0,s._)("div",{class:"inscript_button1",onClick:t[20]||(t[20]=e=>o.choseMaskFun(2))},"OK")])])])):(0,s.kq)("",!0),(0,s.Wm)(u,{size:"large",fix:"",show:l.spanBoolean},null,8,["show"])])}var Wt=a(91818),$t=a(47013),Ot=a(99901),Xt=a(14217),Qt=a(13870),Jt=a(51037),ea=a(12816),ta=(a(57658),a(77162)),aa=a(40657),sa=a(21407),ia=a(30545),na=a(60308),la=a(73749);a(92005);const oa=a(84054);sa.initEccLib(oa);(0,aa.ZP)(oa);const ca=a(69773);var ra={components:{Tabs:ea.Z,TabPane:Jt.Z,Page:Qt.Z,InputNumber:Xt.Z,Spin:Ot.Z,Icon:$t.Z},data(){return{inscritpBooleanLunXun:!0,yourRate:null,networkRate:null,loginType:null,sendRealAddress:null,loadingBoolean:!1,balance:null,sendBtcaddress:null,amount:null,gasList:[],sendAmount:null,jiexiAddress:null,jiexiType:!1,monywallet:null,type:"Domains",listShowType:2,searchText:null,tabList:[{name:"Domains",type:"Domains"},{name:"IMG",type:"Image"},{name:"Other",type:"Other"}],gasList:[],btcaddress:null,send_inscript_boolean:!1,gasSelectData:{},inscrptList:[],showInscrptList:[],spanBoolean:!1,public_key:null,selectItem:{},unisatPriver:!1,inscritpBoolean:!1,full_state:null}},methods:{inscriptionstype(e){switch(e.detail.content_type){case"image/png":e.type="IMAGE";break;case"image/jpg":e.type="IMAGE";break;case"image/jpeg":e.type="IMAGE";break;case"image/webp":e.type="IMAGE";break;case"image/svg+xml":e.type="IMAGE";break;case"image/gif":e.type="GIF";break;case"text/plain;charset=utf-8":e.type="TEXT";break;case"text/html":e.type="HTML";break;case"text/html;charset=utf-8":e.type="HTML";break;case"application/json":e.type="TEXT";break;case"mp3":e.type="AUDIO";break;case"mp4":e.type="VIDEO";break;default:e.type="OTHER";break}return e},toINSFun(e){let t="https://ordinals.com/inscription/"+e;window.open(t,"_blank")},openStatusFun(e){this.queryDomainFun(e)},toinscriptionFun(e){let t=e.id.slice(0,e.id.length-2),a="https://www.blockchain.com/explorer/transactions/btc/"+t;window.open(a,"_blank")},queryDomainFun(e){this.spanBoolean=!0;let t={};t.domain=e.domain,this.$axios({method:"post",data:t,url:ia.Z.queryDomainApi,headers:{"Content-Type":"application/json"}}).then((t=>{"200"==t.status&&(0===t.data.code?(this.full_state=t.data.data.dom_state,this.queryDomainMintFeeFun(e)):Wt.Z.error(t.data.message))})).catch((e=>{}))},queryDomainMintFeeFun(e){this.spanBoolean=!0;let t={};t.domain=e.domain,this.$axios({method:"post",url:ia.Z.queryDomainMintFeeApi,data:t,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(this.spanBoolean=!1,0===e.data.code&&(this.inscritpBoolean=!0,this.yourRate=e.data.data.rate_fee,this.networkRate=e.data.data.fastest_fee))})).catch((e=>{this.spanBoolean=!1}))},goToCartFun(){this.spanBoolean=!0,this.$axios({method:"get",url:ia.Z.getRateFeeApi,headers:{"Content-Type":"application/json"}}).then((e=>{if("200"==e.status)if(0===e.data.code){let t=e.data.data;this.gasList=this.recommendedFeeFun(t.fastestFee,t.halfHourFee,t.hourFee,this.gasSelectData.name),this.gasSelectData.name||(this.gasSelectData.name=this.gasList[0].name,this.gasSelectData.fast=t.fastestFee,this.gasSelectData.avg=t.halfHourFee,this.gasSelectData.slow=t.hourFee,this.gasSelectData.economyFee=t.economyFee,this.gasSelectData.value=this.gasList[0].value),this.spanBoolean=!1,this.send_inscript_boolean=!0}else Wt.Z.error(e.data.message),this.spanBoolean=!1})).catch((e=>{}))},jiexiFun(e){this.sendBtcaddress.endsWith(".btc")&&this.domainChangeFun()},domainChangeFun(){let e={};e.domain=this.sendBtcaddress,this.$axios({method:"post",url:ia.Z.domainChangeApi,data:e,headers:{"Content-Type":"application/json"}}).then((e=>{if("200"==e.status){if(0===e.data.code)return this.jiexiAddress=e.data.data.owner_address,this.jiexiType=!0,void(this.sendRealAddress=e.data.data.owner_address);this.jiexiAddress="the address is  error",this.jiexiType=!1}})).catch((e=>{}))},changeGasInputFun(e){e&&(this.gasSelectData.slow>e||this.gasSelectData.avg>e||(this.gasSelectData.customValue=e))},changeAddressTypefun(e){this.type=e.name,this.listShowType="Image"===e?1:2,this.searchText=null,this.addressFun()},sendFun(e){this.selectItem=e,"9"!=e.state&&"0"!=e.state&&"5"!=e.state&&""!=e.state||this.unisatPriver||"custom"!==this.loginType&&this.goToCartFun()},setDomainFun(e){this.submitInsTxAction(e)},async submitInsTxAction(e){if(!this.sendBtcaddress)return void Wt.Z.warning("to address must not be empty");if(this.sendBtcaddress.endsWith(".btc")){if(!this.sendRealAddress)return void Wt.Z.warning("to address must not be empty");if(!(0,na.Gu)(this.sendRealAddress))return void Wt.Z.warning("to address is not valid")}else{if(!(0,na.Gu)(this.sendBtcaddress))return void Wt.Z.warning("to address is not valid");this.sendRealAddress=this.sendBtcaddress}let t=this.gasSelectData.value;this.loadingBoolean=!0;const a=await(0,la.Bt)(localStorage.walletType);if(!a)return void(this.loadingBoolean=!1);let s=localStorage.getItem("bitcoin_address");this.queryExtIns(s,a,this.sendRealAddress,t,e.detail.id)},async queryExtIns(e,t,a,s,i){this.$axios({method:"get",url:ia.Z.walletInfoApi+"?address="+e,headers:{"Content-Type":"application/json"}}).then((async e=>{if("200"==e.status){let n=e.data,l=n.data,o=(0,la.tR)(l.txrefs),c=(0,la.fm)(l.inscriptions_by_outputs),r={privateKey:t,utxos:o,inscriptions:c,inscriptionID:i,receiver:a,feeRate:s};const{txID:d,txHex:_}=await(0,la.Kf)(r,"inscription");this.pushTx(_)}})).catch((e=>{this.loadingBoolean=!1}))},pushTx(e){let t={};t.rawtx=e,this.$axios({method:"post",data:t,url:ia.Z.pushTxApi,headers:{"Content-Type":"application/json","X-Client":"UniSat Wallet"}}).then((e=>{"200"==e.status&&(this.loadingBoolean=!1,"OK"===e.data.message?(this.send_inscript_boolean=!1,Wt.Z.success("tx: "+e.data.result+" has been publiced")):Wt.Z.info(e.data.message))})).catch((e=>{this.loadingBoolean=!1}))},choseMaskFun(e){1===e?(this.loadingBoolean=!1,this.send_inscript_boolean=!1):2===e&&(this.inscritpBoolean=!1,this.inscritpBooleanLunXun=!1,this.searchText=null,this.addressFun())},changeGasFun(e){if(this.gasList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,"Custom"===e.name)return this.gasSelectData.customValue=this.gasSelectData.value,void(this.gasSelectData.name="Custom");this.gasSelectData.value=e.value,this.gasSelectData.name=e.name},isInputFun(e){this.searchText=e.target.value.replace(/[^a-zA-Z0-9]/g,""),e.target.value||(this.showInscrptList=this.inscrptList)},searchFun(){let e=[];this.inscrptList.forEach((t=>{(t.domain.includes(this.searchText)||t.num.toString().includes(this.searchText))&&e.push(t)})),this.showInscrptList=e},changePageFun(e){},changeShowFun(e){this.listShowType=e},recommendedFeeFun(e,t,a,s){let i=[],n={},l={},o={},c={};return n.name="Fast",n.value=e,n.fast=e,n.isSelect=!1,l.name="Avg",l.value=t,l.avg=t,l.isSelect=!1,o.name="Slow",o.value=a,o.slow=a,o.isSelect=!1,c.name="Custom",c.value=null,c.isSelect=!1,i.push(n),i.push(l),i.push(o),i.push(c),s?i.forEach((e=>{e.name===s?e.isSelect=!0:e.isSelect=!1})):i[0].isSelect=!0,i},async confirmFun(){"9"!=this.selectItem.state&&"0"!=this.selectItem.state&&"5"!=this.selectItem.state&&""!=this.selectItem.state||this.loadingBoolean||this.setDomainFun(this.selectItem)},showAddressFun(e){if(e){let t=e.slice(0,8),a=e.slice(e.length-8),s=t+"..."+a;return s}return e},addressFun(){this.spanBoolean=!0;let e={};e.inscribe_type=this.type,this.searchText?e.address=this.searchText:e.address=this.monywallet,e.sign="",this.$axios({method:"post",data:e,url:ia.Z.addressApi,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(0===e.data.code?(e.data.data.result.forEach((e=>{if(this.inscriptionstype(e),e.register_date?e.register_date_show=ca(e.register_date).format("YYYY-MM-DD HH:mm:ss"):e.register_date_show="-",e.expire_date?e.expire_date_show=ca(e.expire_date).format("YYYY-MM-DD HH:mm:ss"):e.expire_date_show="-",e.id&&e.id.length>10){let t=e.id.slice(0,4),a=e.id.slice(e.id.length-4);e.id_show=t+"..."+a}else e.id_show="-"})),this.inscrptList=e.data.data.result,this.showInscrptList=e.data.data.result,this.$emit("imgNum",e.data.data.total),this.$emit("og",e.data.data.og),this.spanBoolean=!1):(this.spanBoolean=!1,Wt.Z.error(e.data.message)))})).catch((e=>{this.spanBoolean=!1}))}},mounted(){"metaMask"!=localStorage.walletType?this.unisatPriver=!0:this.unisatPriver=!1,this.loginType=localStorage.walletType,this.monywallet=localStorage.bitcoin_address,this.public_key=localStorage.public_key,this.balance=localStorage.balance,this.addressFun()}},da=a(25312);const _a=(0,da.Z)(ra,[["render",Yt],["__scopeId","data-v-72d9aac5"]]);var ua=_a,ma=a(32367),pa=a(75331);const ha=e=>((0,s.dD)("data-v-c742e518"),e=e(),(0,s.Cn)(),e),ga={class:"wallet_app"},ya={class:"wallet_box"},va={class:"wallet_address"},wa={class:"wallet_balance"},ba={class:"wallet_balance_right"},ka={class:"wallet_content"},Da=ha((()=>(0,s._)("div",{class:"wallet_table_head"},[(0,s._)("div",{class:"wallet_table_com wallet_table_head_com",style:{width:"1.8rem"}},"Date"),(0,s._)("div",{class:"wallet_table_com wallet_table_head_com",style:{width:"2.5rem"}},"Address"),(0,s._)("div",{class:"wallet_table_com wallet_table_head_com",style:{"text-align":"right"}},"Amount")],-1))),fa={class:"wallet_table"},Sa={class:"wallet_table_com wallet_table_item_com",style:{width:"1.8rem"}},Fa=["onClick"],xa={class:"wallet_table_com wallet_table_item_com",style:{"text-align":"right"}},Ca={class:"mask"},Ta={class:"receive_btc"},Ba={class:"displayCom maskheadcom"},Ia=ha((()=>(0,s._)("span",null,"Receive BTC/Inscription",-1))),Aa=ha((()=>(0,s._)("div",{class:"codeImg"},[(0,s._)("canvas",{id:"canvas"})],-1))),Za={class:"copyBox"},La={class:"copyBoxContent"},ja={key:0,class:"mask"},Ma={class:"send_btc"},Pa={class:"displayCom maskheadcom"},qa=ha((()=>(0,s._)("span",null,"Send BTC",-1))),za={class:"send_inscript_box"},Ea=ha((()=>(0,s._)("div",{class:"send_btc_title"},"To",-1))),Va={class:"send_btc_title"},Ha=ha((()=>(0,s._)("span",null,"Amount",-1))),Ra={class:"send_btc_title_balance"},Ka=ha((()=>(0,s._)("div",{class:"send_inscript_dec"},"Select the network fee you want to pay:",-1))),Ua=ha((()=>(0,s._)("div",{class:"cart_right_gas"},[(0,s._)("img",{src:M,alt:""}),(0,s._)("span",null,"Gas rate")],-1))),Na={class:"gas_tab"},Ga=["onClick"],Ya={class:"gas_tab_item_value"},Wa={class:"gas_input"},$a=ha((()=>(0,s._)("span",{class:"input_number_year_position"},"sats/vB",-1))),Oa={key:2,style:{color:"red"}},Xa={key:3},Qa={key:0,class:"mobile_button_loading",style:{"margin-right":"0.1rem"},color:"#1989fa"},Ja=ha((()=>(0,s._)("span",null,"Confirm",-1))),es={key:1,class:"inscript_button unisatGray"};function ts(e,t,a,n,l,o){const c=(0,s.up)("Spin"),r=(0,s.up)("van-stepper"),d=(0,s.up)("van-loading");return(0,s.wg)(),(0,s.iD)("div",ga,[(0,s._)("div",ya,[(0,s._)("div",va,[(0,s._)("span",null,(0,i.zw)(l.walletShow),1),(0,s._)("img",{src:ma,alt:"",onClick:t[0]||(t[0]=e=>o.copyActionFun(1))})]),(0,s._)("div",wa,(0,i.zw)(l.balance)+" BTC",1),(0,s._)("div",ba,[(0,s._)("div",{class:(0,i.C_)(["wallet_balance_right_item",{set_option_com_cuton:"custom"===l.loginType,unisatGray:l.unisatPriver}]),onClick:t[1]||(t[1]=e=>o.openMaskFun(1))},"Send",2),(0,s._)("div",{class:"wallet_balance_right_item",style:{"margin-left":"0.2rem"},onClick:t[2]||(t[2]=e=>o.openMaskFun(2))},"Receive")]),(0,s._)("div",ka,[Da,(0,s._)("div",fa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.historyList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"wallet_table_item",key:t},[(0,s._)("div",Sa,(0,i.zw)(e.date),1),(0,s._)("div",{class:"wallet_table_com wallet_table_item_com copyclass",style:{width:"2.4rem"},onClick:t=>o.copyActionFun(2,e)},(0,i.zw)(e.addressShow),9,Fa),(0,s._)("div",xa,(0,i.zw)(e.amount)+" "+(0,i.zw)(e.symbol),1)])))),128))])])]),(0,s.Wm)(c,{size:"large",fix:"",show:l.spanBoolean},null,8,["show"]),(0,s.wy)((0,s._)("div",Ca,[(0,s._)("div",Ta,[(0,s._)("div",Ba,[Ia,(0,s._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[3]||(t[3]=e=>o.choseMaskFun(2))})]),Aa,(0,s._)("div",Za,[(0,s._)("span",La,(0,i.zw)(l.wallet),1),(0,s._)("img",{src:pa,alt:"",onClick:t[4]||(t[4]=e=>o.copyActionFun(4))})])])],512),[[S.F8,l.receive_btc_boolean]]),l.send_btc_boolean?((0,s.wg)(),(0,s.iD)("div",ja,[(0,s._)("div",Ma,[(0,s._)("div",Pa,[qa,(0,s._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[5]||(t[5]=e=>o.choseMaskFun(1))})]),(0,s._)("div",za,[Ea,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.sendBtcaddress=e),onInput:t[7]||(t[7]=(...e)=>o.jiexiFun&&o.jiexiFun(...e)),type:"text",class:"set_input",placeholder:"Bitcoin address or .btc domain name"},null,544),[[S.nr,l.sendBtcaddress]]),(0,s._)("div",{class:(0,i.C_)({jiexiError:!l.jiexiType})},(0,i.zw)(o.showAddressFun(l.jiexiAddress)),3),(0,s._)("div",Va,[Ha,(0,s._)("span",Ra,"Balance："+(0,i.zw)(l.personBalanceData.amount)+" BTC",1)]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.sendAmount=e),type:"text",class:"set_input",placeholder:"Amount"},null,512),[[S.nr,l.sendAmount]]),Ka,Ua,(0,s._)("div",Na,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.gasList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["gas_tab_item",{gas_tab_item_sel:e.isSelect}]),onClick:t=>o.changeGasFun(e),key:t},[(0,s._)("span",null,(0,i.zw)(e.name),1),(0,s._)("span",Ya,(0,i.zw)(e.value)+" sats/vB",1)],10,Ga)))),128))]),(0,s._)("div",Wa,[$a,"Custom"!=l.gasSelectData.name?((0,s.wg)(),(0,s.j4)(r,{key:0,integer:"",min:0,modelValue:l.gasSelectData.value,"onUpdate:modelValue":t[9]||(t[9]=e=>l.gasSelectData.value=e),disabled:"","input-width":"5rem","button-size":"0.48rem"},null,8,["modelValue"])):((0,s.wg)(),(0,s.j4)(r,{key:1,integer:"",onChange:o.changeGasInputFun,min:0,modelValue:l.gasSelectData.customValue,"onUpdate:modelValue":t[10]||(t[10]=e=>l.gasSelectData.customValue=e),"input-width":"5rem","button-size":"0.48rem"},null,8,["onChange","modelValue"])),"Custom"===l.gasSelectData.name&&l.gasSelectData.customValue<l.gasSelectData.economyFee?((0,s.wg)(),(0,s.iD)("div",Oa,"Minimun Fee："+(0,i.zw)(l.gasSelectData.economyFee)+"sats/vB",1)):"Custom"===l.gasSelectData.name&&l.gasSelectData.customValue<l.gasSelectData.avg?((0,s.wg)(),(0,s.iD)("div",Xa,"This fee is below the average, which may lead to a long wait time for inscription.")):(0,s.kq)("",!0)]),l.unisatPriver?((0,s.wg)(),(0,s.iD)("div",es,"Confirm")):((0,s.wg)(),(0,s.iD)("div",{key:0,class:"inscript_button",onClick:t[11]||(t[11]=(...e)=>o.confirmFun&&o.confirmFun(...e))},[l.loadingBoolean?((0,s.wg)(),(0,s.iD)("div",Qa,[(0,s.Wm)(d,{type:"spinner",color:"#1989fa",class:"vant_loading"})])):(0,s.kq)("",!0),Ja]))])])])):(0,s.kq)("",!0)])}var as=a(1575),ss=a(41023),is=a(27413),ns={components:{Tooltip:as.Z,Page:Qt.Z,Spin:Ot.Z,InputNumber:Xt.Z,Icon:$t.Z},data(){return{walletShow:null,loadingBoolean:!1,sendBtcaddress:null,jiexiType:!1,jiexiAddress:null,loginType:null,unisatPriver:!1,spanBoolean:!1,historyList:[],balance:null,wallet:null,receive_btc_boolean:!1,send_btc_boolean:!1,gasSelectData:{},personBalanceData:{},sendAmount:null,gasList:[]}},methods:{domainChangeFun(e){let t={};t.domain=this.sendBtcaddress,this.$axios({method:"post",url:ia.Z.domainChangeApi,data:t,headers:{"Content-Type":"application/json"}}).then((t=>{if("200"==t.status)if(0===t.data.code){if(1===e)return this.jiexiAddress=t.data.data.owner_address,void(this.jiexiType=!0);if(this.sendRealAddress=t.data.data.owner_address,!(0,na.Gu)(this.sendRealAddress))return void Wt.Z.warning("to address is not valid");"uniSat"===localStorage.walletType?this.unisatAction():this.submitBtcTxAction()}else this.jiexiAddress="the address is  error",this.jiexiType=!1,this.sendRealAddress=null})).catch((e=>{}))},confirmFun(){this.loadingBoolean||(this.sendBtcaddress?this.sendBtcaddress.endsWith(".btc")?this.domainChangeFun():(0,na.Gu)(this.sendBtcaddress)?(this.sendRealAddress=this.sendBtcaddress,"uniSat"===localStorage.walletType?this.unisatAction():this.submitBtcTxAction()):Wt.Z.error("Receive bitcoin address is not valid"):Wt.Z.error("Receive address must not be empty"))},openMaskFun(e){if(1===e){if("custom"===this.loginType)return;if(this.unisatPriver)return;this.goToCartFun()}else{var t=document.getElementById("canvas");console.log(t),ss.toCanvas(t,this.wallet),this.receive_btc_boolean=!0}},goToCartFun(){this.$axios({method:"get",url:ia.Z.getRateFeeApi,headers:{"Content-Type":"application/json"}}).then((e=>{if("200"==e.status)if(0===e.data.code){let t=e.data.data;this.gasList=this.recommendedFeeFun(t.fastestFee,t.halfHourFee,t.hourFee,this.gasSelectData.name),this.gasSelectData.name||(this.gasSelectData.name=this.gasList[0].name,this.gasSelectData.fast=t.fastestFee,this.gasSelectData.avg=t.halfHourFee,this.gasSelectData.slow=t.hourFee,this.gasSelectData.economyFee=t.economyFee,this.gasSelectData.value=this.gasList[0].value),this.send_btc_boolean=!0}else Wt.Z.error(e.data.message)})).catch((e=>{}))},recommendedFeeFun(e,t,a,s){let i=[],n={},l={},o={},c={};return n.name="Fast",n.value=e,n.fast=e,n.isSelect=!1,l.name="Avg",l.value=t,l.avg=t,l.isSelect=!1,o.name="Slow",o.value=a,o.slow=a,o.isSelect=!1,c.name="Custom",c.value=null,c.isSelect=!1,i.push(n),i.push(l),i.push(o),i.push(c),s?i.forEach((e=>{e.name===s?e.isSelect=!0:e.isSelect=!1})):i[0].isSelect=!0,i},changeGasInputFun(e){e&&(this.gasSelectData.slow>e||this.gasSelectData.avg>e||(this.gasSelectData.customValue=e))},changeGasFun(e){if(this.gasList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,"Custom"===e.name)return this.gasSelectData.customValue=this.gasSelectData.value,void(this.gasSelectData.name="Custom");this.gasSelectData.value=e.value,this.gasSelectData.name=e.name},jiexiFun(e){this.sendBtcaddress.endsWith(".btc")&&this.domainChangeFun(1),e.target.value||(this.jiexiAddress=null)},choseMaskFun(e){1===e?(this.loadingBoolean=!1,this.send_btc_boolean=!1):2===e?this.receive_btc_boolean=!1:this.save_pic_boolean=!1},async unisatAction(){this.loadingBoolean=!0;const e=new is.Z(this.sendAmount),t=e.multipliedBy(1e8).toNumber();let a="";a="Custom"===this.gasSelectData.name?this.gasSelectData.customValue:this.gasSelectData.value;const s=await window.unisat.sendBitcoin(this.sendRealAddress,t,{feeRate:a});Wt.Z.info("submit transaction: "+s)},async submitBtcTxAction(){let e=localStorage.getItem("bitcoin_address");if(!e)return void Wt.Z.warning("from address must not be empty");if(!this.sendRealAddress)return void Wt.Z.warning("to address must not be empty");if(!this.sendAmount)return void Wt.Z.warning("amount must not be empty");let t=new is.Z(this.sendAmount).toNumber(),a=new is.Z(t),s=a.multipliedBy(1e8);if(s.lt(new is.Z(1e3)))return void Wt.Z.warning("min sat you must transfer is1000");let i=new is.Z(this.personBalanceData.amount);if(a.gte(i))return void Wt.Z.warning("max value you must transfer is "+this.personBalanceData.amount+"btc");let n="";n="Custom"===this.gasSelectData.name?this.gasSelectData.customValue:this.gasSelectData.value;const l=localStorage.walletType;this.loadingBoolean=!0;const o=await(0,la.Bt)(l);o?this.queryExtIns(e,o,this.sendRealAddress,s,n):this.loadingBoolean=!1},async queryExtIns(e,t,a,s,i){this.$axios({method:"get",url:ia.Z.walletInfoApi+"?address="+e,headers:{"Content-Type":"application/json"}}).then((async e=>{if("200"==e.status){let a=e.data,n=a.data,l=(0,la.tR)(n.txrefs),o=(0,la.fm)(n.inscriptions_by_outputs),c={privateKey:t,utxos:l,inscriptions:o,receiver:this.sendRealAddress,amount:s.toNumber(),feeRate:i};const{txID:r,txHex:d}=await(0,la.Kf)(c);this.pushTx(d)}})).catch((e=>{this.loadingBoolean=!1}))},pushTx(e){let t={};t.rawtx=e,this.$axios({method:"post",data:t,url:ia.Z.pushTxApi,headers:{"Content-Type":"application/json","X-Client":"UniSat Wallet"}}).then((e=>{"200"==e.status&&(this.loadingBoolean=!1,"OK"===e.data.message?(this.send_btc_boolean=!1,Wt.Z.success("tx: "+e.data.result+" has been publiced")):Wt.Z.info(e.data.message))})).catch((e=>{}))},copyActionFun(e,t){1===e?(0,la.oZ)(this.wallet):2===e?(0,la.oZ)(t.address):3===e?(0,la.oZ)(t.txid):4===e&&(0,la.oZ)(this.wallet)},changePageFun(){},showAddressFun(e){if(e){let t=e.slice(0,6),a=e.slice(e.length-6),s=t+"..."+a;return s}return e},recentHistoryFun(){let e=localStorage.bitcoin_address;this.spanBoolean=!0,this.$axios({method:"get",url:ia.Z.recentHistoryApi+"/"+e,headers:{"Content-Type":"application/json"}}).then((e=>{if("200"==e.status)if(0===e.data.code){let t=e.data.data.result;t.forEach((e=>{e.addressShow=this.showAddressFun(e.address),e.tixdShow=this.showAddressFun(e.txid)})),this.historyList=t,this.spanBoolean=!1}else this.spanBoolean=!1,Wt.Z.error(e.data.message)})).catch((e=>{this.spanBoolean=!1}))},sendBtcFun(){this.$emit("sendBtc")},receiveBtcFun(){this.$emit("receiveBtc")}},mounted(){"metaMask"!=localStorage.walletType&&(this.unisatPriver=!0),this.personBalanceData.amount=localStorage.balance,this.loginType=localStorage.walletType,this.balance=localStorage.balance,this.wallet=localStorage.bitcoin_address,this.walletShow=this.showAddressFun(localStorage.bitcoin_address),this.recentHistoryFun()}};const ls=(0,da.Z)(ns,[["render",ts],["__scopeId","data-v-c742e518"]]);var os=ls,cs=a(33069),rs=a(9381),ds=a(66431),_s=a(33e3);const us=e=>((0,s.dD)("data-v-367041f5"),e=e(),(0,s.Cn)(),e),ms={class:"setting_app"},ps={class:"setting_content"},hs={class:"avatar_box"},gs=us((()=>(0,s._)("div",{class:"avatar_title"},"Avatar",-1))),ys=us((()=>(0,s._)("div",{class:"avatar_dec"},"Set your profile picture as the img-type inscription you own.",-1))),vs={class:"avatar_set"},ws=["src"],bs={key:1,src:"https://app.btcdomains.io/images/assets/avater_def@2x.png",alt:"",class:"avaterImg"},ks=us((()=>(0,s._)("img",{src:cs,alt:""},null,-1))),Ds=us((()=>(0,s._)("span",null,"Set Avatar",-1))),fs=[ks,Ds],Ss={class:"avatar_box",style:{"margin-top":"0.2rem"}},Fs=us((()=>(0,s._)("div",{class:"avatar_title"},"Name",-1))),xs=us((()=>(0,s._)("div",{class:"avatar_dec"},"Set your .btc domain name that you own as your profile name.",-1))),Cs={class:"avatar_set"},Ts={key:0,class:"domain_name"},Bs={key:1,class:"domain_name"},Is=us((()=>(0,s._)("img",{src:cs,alt:""},null,-1))),As=us((()=>(0,s._)("span",null,"Set Primary Domain Name",-1))),Zs=[Is,As],Ls={class:"account_box"},js=us((()=>(0,s._)("span",null,"Export private key",-1))),Ms=us((()=>(0,s._)("img",{src:rs,alt:""},null,-1))),Ps=[js,Ms],qs=us((()=>(0,s._)("span",null,"Disconnect wallet",-1))),zs=us((()=>(0,s._)("img",{src:rs,alt:""},null,-1))),Es=[qs,zs],Vs={key:0,class:"mask maskScroll"},Hs={class:"set_avatar_box"},Rs={class:"displayCom maskheadcom"},Ks=us((()=>(0,s._)("span",null,"Set Avatar ",-1))),Us={class:"set_prime_boy"},Ns=us((()=>(0,s._)("div",{class:"set_dec"},"Choose an img-type inscription to set as your profile picture.",-1))),Gs={class:"set_prime_search"},Ys={key:0,src:ds,alt:""},Ws={key:1},$s={class:"set_avatar_table"},Os=["onClick"],Xs=["src"],Qs={class:"set_avatar_item_dec"},Js={class:"set_prime_item_left_dec_inf"},ei={key:1,class:"mask"},ti={class:"set_prime_box"},ai={class:"displayCom maskheadcom"},si=us((()=>(0,s._)("span",null,"Set Prime Name ",-1))),ii={class:"set_prime_boy"},ni=us((()=>(0,s._)("div",{class:"set_dec"},"You can choose one of your domain names as your main domain name",-1))),li={class:"set_prime_search"},oi={key:0,src:ds,alt:""},ci={key:1},ri={class:"set_prime_table"},di=["onClick"],_i={class:"set_prime_item_left"},ui=["src"],mi={key:1,src:T,alt:""},pi={class:"set_prime_item_left_dec"},hi={class:"set_prime_item_left_dec_inf"},gi={key:0,src:_s,alt:"",class:"set_prime_item_right"},yi={key:2,class:"mask"},vi={class:"export_private_box"},wi={class:"displayCom maskheadcom"},bi=us((()=>(0,s._)("span",null,"Export private key",-1))),ki=us((()=>(0,s._)("div",{class:"private_Key"},"Private Key",-1))),Di={class:"copyBox"},fi={class:"copyBoxContent"},Si=us((()=>(0,s._)("div",{class:"private_Key_title"},"* Anyone who has the private key can take control your account. Please manage it properly.",-1)));function Fi(e,t,a,n,l,o){const c=(0,s.up)("van-tab"),r=(0,s.up)("van-tabs"),d=(0,s.up)("Spin");return(0,s.wg)(),(0,s.iD)("div",ms,[(0,s._)("div",ps,[(0,s.Wm)(r,{active:l.tabsName,"onUpdate:active":t[4]||(t[4]=e=>l.tabsName=e)},{default:(0,s.w5)((()=>[l.unisatPriver?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(c,{key:0,title:"Profile",name:"Profile"},{default:(0,s.w5)((()=>[(0,s._)("div",hs,[gs,ys,(0,s._)("div",vs,[l.personData.content_url&&l.personData.content_url.length>3?((0,s.wg)(),(0,s.iD)("img",{key:0,src:l.personData.content_url,alt:"",class:"avatar_set_img"},null,8,ws)):((0,s.wg)(),(0,s.iD)("img",bs)),(0,s._)("div",{class:(0,i.C_)(["avatar_set_option",{unisatGray:l.unisatPriver}]),onClick:t[0]||(t[0]=e=>o.openmaskFun(1))},fs,2)])]),(0,s._)("div",Ss,[Fs,xs,(0,s._)("div",Cs,[l.personData?((0,s.wg)(),(0,s.iD)("span",Ts,(0,i.zw)(l.personData.domain),1)):((0,s.wg)(),(0,s.iD)("span",Bs)),(0,s._)("div",{class:(0,i.C_)(["avatar_set_option",{unisatGray:l.unisatPriver}]),onClick:t[1]||(t[1]=e=>o.openmaskFun(2))},Zs,2)])])])),_:1})),(0,s.Wm)(c,{title:"Account",name:"Account"},{default:(0,s.w5)((()=>[(0,s._)("div",Ls,[(0,s._)("div",{class:(0,i.C_)(["account_item",{unisatGray:l.unisatPriver}]),onClick:t[2]||(t[2]=e=>o.openmaskFun(3))},Ps,2),(0,s._)("div",{class:"account_item",onClick:t[3]||(t[3]=(...e)=>o.outLoginFun&&o.outLoginFun(...e))},Es)])])),_:1})])),_:1},8,["active"])]),l.set_avatar_boolean?((0,s.wg)(),(0,s.iD)("div",Vs,[(0,s._)("div",Hs,[(0,s._)("div",Rs,[Ks,(0,s._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[5]||(t[5]=e=>o.choseMaskFun(1))})]),(0,s._)("div",Us,[Ns,(0,s._)("div",Gs,[(0,s.wy)((0,s._)("input",{onKeyup:t[6]||(t[6]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),onInput:t[7]||(t[7]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[8]||(t[8]=e=>l.searchText=e),type:"text",class:"set_input",placeholder:"Search  inscription number"},null,544),[[S.nr,l.searchText]]),(0,s._)("img",{src:F,alt:"",onClick:t[9]||(t[9]=(...e)=>o.searchFun&&o.searchFun(...e))})]),(0,s._)("div",{class:(0,i.C_)(["selectdiv",{hasdomain:l.selectData}])},[l.selectData?((0,s.wg)(),(0,s.iD)("img",Ys)):(0,s.kq)("",!0),l.selectData?((0,s.wg)(),(0,s.iD)("span",Ws,"Choose "+(0,i.zw)(l.selectData.num),1)):(0,s.kq)("",!0)],2),(0,s._)("div",$s,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.domainShowList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["set_avatar_item",{set_prime_item_sel:e.isSelect}]),onClick:t=>o.chooseAvatarFun(e),key:t},[(0,s._)("img",{src:e.detail.content,alt:""},null,8,Xs),(0,s._)("div",Qs,[(0,s._)("span",null,(0,i.zw)(e.domain),1),(0,s._)("span",Js," INS #"+(0,i.zw)(e.number),1)])],10,Os)))),128))]),(0,s._)("div",{class:"inscript_button",onClick:t[10]||(t[10]=e=>o.confirmFun(1))},"Confirm")])])])):(0,s.kq)("",!0),l.set_prime_boolean?((0,s.wg)(),(0,s.iD)("div",ei,[(0,s._)("div",ti,[(0,s._)("div",ai,[si,(0,s._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[11]||(t[11]=e=>o.choseMaskFun(2))})]),(0,s._)("div",ii,[ni,(0,s._)("div",li,[(0,s.wy)((0,s._)("input",{onKeyup:t[12]||(t[12]=(0,S.D2)(((...e)=>o.searchFun&&o.searchFun(...e)),["enter"])),onInput:t[13]||(t[13]=(...e)=>o.isInputFun&&o.isInputFun(...e)),"onUpdate:modelValue":t[14]||(t[14]=e=>l.searchText=e),type:"text",class:"set_input",placeholder:"domain name or inscription number"},null,544),[[S.nr,l.searchText]]),(0,s._)("img",{src:F,alt:"",onClick:t[15]||(t[15]=(...e)=>o.searchFun&&o.searchFun(...e))})]),(0,s._)("div",{class:(0,i.C_)(["selectdiv",{hasdomain:l.selectData}])},[l.selectData?((0,s.wg)(),(0,s.iD)("img",oi)):(0,s.kq)("",!0),l.selectData?((0,s.wg)(),(0,s.iD)("span",ci,"Choose "+(0,i.zw)(l.selectData.domain),1)):(0,s.kq)("",!0)],2),(0,s._)("div",ri,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.domainShowList,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["set_prime_item",{set_prime_item_sel:e.isSelect}]),onClick:t=>o.chooseDomainFun(e),key:t},[(0,s._)("div",_i,[e.domain_img.length>3&&"9"==e.state||"0"==e.state||"5"==e.state||""==e.state?((0,s.wg)(),(0,s.iD)("img",{key:0,src:e.domain_img,alt:""},null,8,ui)):((0,s.wg)(),(0,s.iD)("img",mi)),(0,s._)("div",pi,[(0,s._)("span",null,(0,i.zw)(e.domain),1),(0,s._)("span",hi,"INS #"+(0,i.zw)(e.number),1)])]),e.isSelect?((0,s.wg)(),(0,s.iD)("img",gi)):(0,s.kq)("",!0)],10,di)))),128))]),(0,s._)("div",{class:"inscript_button",onClick:t[16]||(t[16]=e=>o.confirmFun(2))},"Confirm")])])])):(0,s.kq)("",!0),l.export_private_boolean?((0,s.wg)(),(0,s.iD)("div",yi,[(0,s._)("div",vi,[(0,s._)("div",wi,[bi,(0,s._)("img",{src:j,class:"maskheadcomImg",alt:"",onClick:t[17]||(t[17]=e=>o.choseMaskFun(3))})]),ki,(0,s._)("div",Di,[(0,s._)("span",fi,(0,i.zw)(l.privKey),1),(0,s._)("img",{src:pa,alt:"",onClick:t[18]||(t[18]=(...e)=>o.copyActionFun&&o.copyActionFun(...e))})]),Si])])):(0,s.kq)("",!0),(0,s.Wm)(d,{size:"large",fix:"",show:l.spanBoolean},null,8,["show"])])}var xi=a(14899),Ci=a(5578),Ti=a(17291);const Bi="m/86'/0'/0'/0/0",Ii="Welcome to the secure sites, btcdomains.io and btcwallet.network! Please ensure you are visiting the correct URLs: btcdomains.io and btcwallet.network. Engaging in transactions or signing activities outside of these official sites may expose your private key and put your security at risk.",Ai=a(84054);sa.initEccLib(Ai);const Zi=(0,aa.ZP)(Ai);var Li={components:{Tabs:ea.Z,TabPane:Jt.Z,Page:Qt.Z,Spin:Ot.Z},data(){return{tabsName:"Account",searchText:null,unisatPriver:!1,spanBoolean:!1,monywallet:null,export_private_boolean:!1,set_prime_boolean:!1,set_avatar_boolean:!1,selectData:null,domainList:[],domainShowList:[],avatar:null,personData:{content_url:"",domain_img:null,domain:null},public_key:null,privKey:null}},methods:{copyActionFun(){(0,la.oZ)(this.privKey)},chooseDomainFun(e){e.isSelect||(this.domainShowList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,this.selectData=e)},chooseAvatarFun(e){e.isSelect||(this.domainShowList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,this.selectData=e)},choseMaskFun(e){this.searchText=null,1===e?this.set_avatar_boolean=!1:2===e?this.set_prime_boolean=!1:3===e&&(this.export_private_boolean=!1)},openmaskFun(e){if(this.searchText=null,1===e){if(this.unisatPriver)return;this.addressFun("Image")}else if(2===e){if(this.unisatPriver)return;this.selectData=null,this.addressFun("Domains")}else if(3===e){if(this.unisatPriver)return;this.exportPrivateKey()}},async exportPrivateKey(){let e=localStorage.walletType;if("uniSat"===e){let e=await window.unisat.signMessage(Ii);const t=xi.Y0(Ci.w(xi.Y0(e)));let a=Zi.fromSeed(ta.Buffer.from(t.slice(2)));const s=a.derivePath(Bi),i=s.privateKey?.toString("hex");return this.export_private_boolean=!0,i}if("metaMask"===e){if("undefined"===typeof window.ethereum)return void alert("Metamask is not installed!");let e=new Ti.Q(window.ethereum),t=await e.getSigner(),a=await t.signMessage(Ii);const s=xi.Y0(Ci.w(xi.Y0(a)));let i=Zi.fromSeed(ta.Buffer.from(s.slice(2)));const n=i.derivePath(Bi),l=n.privateKey?.toString("hex");return this.export_private_boolean=!0,this.privKey=l,l}},outLoginFun(){localStorage.clear(),this.$router.push({name:"mobile_home"})},searchFun(){let e=[];this.domainList.forEach((t=>{(t.domain.includes(this.searchText)||t.num.toString().includes(this.searchText))&&e.push(t)})),this.domainShowList=e},isInputFun(e){this.searchText=e.target.value.replace(/[^a-zA-Z0-9]/g,""),e.target.value||(this.domainShowList=this.domainList)},changePageFun(e){},async confirmFun(e){if(!this.selectData)return void Wt.Z.info("choose one of your domain names");let t="",a=localStorage.walletType;if("metaMask"===a){let e=new Ti.Q(window.ethereum),a=await e.getSigner(),s=await a.signMessage(Ii),i=xi.Y0(Ci.w(xi.Y0(s))),n=Zi.fromSeed(ta.Buffer.from(i.slice(2))),l=n.derivePath(Bi),o=ta.Buffer.from(this.monywallet),c=sa.crypto.sha256(o),r=l.sign(c);t=r.toString("hex")}else"uniSat"===a&&(t=await window.unisat.signMessage(Ii));1===e?this.setDomainFun(t,"Image"):this.setDomainFun(t,"Domains")},setDomainFun(e,t){this.selectData||Wt.Z.success("Please select a domain");let a={};"Domains"===t?(a.inscribe_id="",a.domain=this.selectData.domain):(a.inscribe_id=this.selectData.id,a.domain=""),a.address=this.monywallet,a.signature=e,a.public_key=this.public_key,a.sign_type=localStorage.walletType.toLowerCase(),this.$axios({method:"post",data:a,url:ia.Z.setDomainApi,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(0===e.data.code?("Domains"===t?this.set_prime_boolean=!1:this.set_avatar_boolean=!1,Wt.Z.success("success"),location.reload()):Wt.Z.error(e.data.message))})).catch((e=>{}))},addressPersonFun(){this.spanBoolean=!0;let e={};e.address=this.monywallet,this.$axios({method:"post",url:ia.Z.getDomainApi,data:e,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(0===e.data.code?(e.data.data.length>0&&(this.personData=e.data.data[0]),this.spanBoolean=!1):(Wt.Z.error(e.data.message),this.spanBoolean=!1))})).catch((e=>{this.spanBoolean=!1}))},addressFun(e){this.domainList=[],this.domainShowList=[],this.spanBoolean=!0;let t={};t.inscribe_type=e,t.address=this.monywallet,t.sign="",this.$axios({method:"post",data:t,url:ia.Z.inscriptListApi,headers:{"Content-Type":"application/json"}}).then((t=>{"200"==t.status&&("Domains"===e?(t.data.data.result.forEach((e=>{e.isSelect=!1})),this.domainList=t.data.data.result,this.domainShowList=t.data.data.result,this.set_prime_boolean=!0):(t.data.data.result.forEach((e=>{e.isSelect=!1})),this.domainList=t.data.data.result,this.domainShowList=t.data.data.result,this.set_avatar_boolean=!0),this.spanBoolean=!1)})).catch((e=>{this.spanBoolean=!1}))}},created(){let e=localStorage.walletType;"metaMask"!=e?(this.unisatPriver=!0,this.tabsName="Account"):(this.unisatPriver=!1,this.tabsName="Profile")},mounted(){this.monywallet=localStorage.bitcoin_address,this.public_key=localStorage.public_key,this.addressPersonFun()}};const ji=(0,da.Z)(Li,[["render",Fi],["__scopeId","data-v-367041f5"]]);var Mi=ji,Pi={components:{MobileHead:D.Z,MobileFoot:f.Z,MobileInscription:ua,MobileWallet:os,MobileSetting:Mi},ogBoolean:{immediate:!0,handler(e){this.ogShow=e}},data(){return{loginType:null,clientHeight:null,personData:{content_url:"",domain:""},ogShow:!1,monywallet:null,type:"Inscription",optionsList:[{selUrl:a(358),norUrl:a(85064),cusUrl:a(358),name:"Inscription",isSelect:!0},{selUrl:a(2439),norUrl:a(22577),cusUrl:a(72602),name:"Wallet",isSelect:!1},{selUrl:a(11389),norUrl:a(33555),cusUrl:a(43557),name:"Setting",isSelect:!1}]}},methods:{imgNumFun(e){this.saveImgObj=e},ogFun(e){this.ogBoolean=e},changeOptionFun(e){"custom"!==this.loginType&&(e.isSelect||(this.optionsList.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,localStorage.optionName=e.name,this.type=e.name))},addressPersonFun(){let e={};e.address=this.monywallet,this.$axios({method:"post",url:ia.Z.getDomainApi,data:e,headers:{"Content-Type":"application/json"}}).then((e=>{"200"==e.status&&(0===e.data.code?e.data.data.length>0&&(this.personData=e.data.data[0]):Message.error(e.data.message))})).catch((e=>{}))}},mounted(){this.clientHeight=document.documentElement.clientHeight-70,this.monywallet=localStorage.bitcoin_address,this.addressPersonFun();let e=localStorage.optionName;e&&(this.optionsList.forEach((t=>{t.name===e?t.isSelect=!0:t.isSelect=!1})),this.type=e)}};const qi=(0,da.Z)(Pi,[["render",k],["__scopeId","data-v-1e398d84"]]);var zi=qi}}]);
//# sourceMappingURL=59.bad9ffcf.js.map